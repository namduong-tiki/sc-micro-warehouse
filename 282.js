(window["webpackJsonp_sc-frontend-warehouse-management"]=window["webpackJsonp_sc-frontend-warehouse-management"]||[]).push([[282],{39420:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return fh}});var r,i,o,l,s,a=t(30168),c=t(47313),d=t(75821),u=t(72652),h=t(49184),p=h.ZP.div(r||(r=(0,a.Z)(["\n    background-color: "," ;\n    height:  "," ;\n    width:  "," ;\n"])),(function(e){return e.color}),(function(e){return e.height}),(function(e){return e.width})),x=t(7556),f=t(28709),v=t(86604),g=t(46417),m=function(){return(0,g.jsx)(x.Z,{wrap:!1,style:{marginBottom:1},children:(0,g.jsx)(d.Z,{flex:"auto",children:(0,g.jsxs)(f.Z,{children:[(0,g.jsx)(f.Z.Item,{children:(0,g.jsx)("a",{children:(0,v.wv)({id:"bpor.home"})})}),(0,g.jsx)(f.Z.Item,{children:(0,v.wv)({id:"bpor"})})]})})})},j=t(59491),Z=t(82138),b=h.ZP.span(i||(i=(0,a.Z)(["\n  font-weight: 600;\n  font-size: 22px;\n  color: #262626;\n  line-height: 28px;\n"]))),y=h.ZP.span(o||(o=(0,a.Z)(["\n  font-weight: 400;\n  font-size: 14px;\n  color: #ffffff;\n  line-height: 22px;\n"]))),w=h.ZP.div(l||(l=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-self: center;\n"]))),k=h.ZP.div(s||(s=(0,a.Z)(["\n  font-weight: 400;\n  font-size: 14px;\n  color: #595959;\n  line-height: 22px;\n"]))),C=function(e){var n=e.onOpenCreateModal;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(x.Z,{gutter:[12,4],children:[(0,g.jsx)(d.Z,{flex:1,children:(0,g.jsx)(x.Z,{align:"middle",gutter:[12,4],children:(0,g.jsx)(d.Z,{children:(0,g.jsx)(b,{children:(0,v.wv)({id:"bpor"})})})})}),(0,g.jsx)(d.Z,{children:(0,g.jsxs)(j.Z,{type:"primary",children:[(0,g.jsx)(Z.Z,{}),(0,g.jsx)(y,{onClick:n,children:(0,v.wv)({id:"bpor.new"})})]})})]}),(0,g.jsx)(p,{height:"5px"}),(0,g.jsxs)(x.Z,{gutter:[12,4],children:[(0,g.jsx)(d.Z,{children:(0,g.jsx)(k,{children:(0,v.wv)({id:"Vui lòng xem hướng dẫn chi tiết:"})})}),(0,g.jsx)(d.Z,{children:(0,g.jsxs)(w,{children:[(0,g.jsx)("img",{alt:"tiki_now",width:12,height:12,src:"https://salt.tikicdn.com/ts/tmp/c3/58/5d/08387339159ab65445c2a55a262ce98d.png"}),(0,g.jsx)(p,{width:"4px"}),(0,g.jsx)("a",{target:"_blank",href:"https://hocvien.tiki.vn/faq/huong-dan-tao-phieu-gui-hang-va-quy-dinh-so-luong-hang-hoa-nhap-kho/?utm_source=TikiSellerCenter&utm_medium=Tools&utm_campaign=2021",children:(0,v.wv)({id:"bpor.guideline"})})]})}),(0,g.jsx)(d.Z,{children:(0,g.jsxs)(w,{children:[(0,g.jsx)("img",{alt:"tiki_now",width:12,height:12,src:"https://salt.tikicdn.com/ts/tmp/a8/18/c1/a250a63462eeb6bb8f8f8c43d4998967.png"}),(0,g.jsx)(p,{width:"4px"}),(0,g.jsx)("a",{target:"_blank",href:"https://hocvien.tiki.vn/faq/quy-dinh-ve-tieu-chuan-nhap-kho-tiki/?utm_source=TikiSellerCenter&utm_medium=Tools&utm_campaign=2021",children:(0,v.wv)({id:"bpor.guideline.authority"})})]})})]})]})},S=t(1413),P=t(45987),I=t(74294),_=t(74165),A=t(15861),D=t(29439),E=t(12279),F=t.n(E),T=t(56352).v9,L=function(e){var n,t;return null!==(n=null===(t=e.user.userDetail)||void 0===t?void 0:t.shouldSelectSeller)&&void 0!==n&&n},M=function(e){return e.user.userDetail},R=t(93433),Q=t(25705),z=t.n(Q),B=t(19118),N=t.n(B),Y=t(34290),W=(0,Y.Em)(),V={fullpath:!0,config:{noAuth:!1},isNotThrowError:!1,hasResponseServerMessage:!1},q=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n,t,r){var i;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=N()(V,r),e.abrupt("return",W.apiGet(n,t,i.fullpath,i.config,i.isNotThrowError,i.hasResponseServerMessage));case 2:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),O=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n,t,r){var i;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=N()(V,r),e.abrupt("return",W.apiPost(n,t,i.fullpath,i.config,i.isNotThrowError,i.hasResponseServerMessage));case 2:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),H=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n,t,r){var i;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=N()(V,r),e.abrupt("return",W.apiPut(n,t,i.fullpath,i.config,i.isNotThrowError,i.hasResponseServerMessage));case 2:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,t=void 0===n?"":n,r={limit:"20",order_by:"created_at|desc"};""!==t&&(r.name=t);var i=new URLSearchParams(r).toString();return q("".concat("https://api-sellercenter.tala.xyz","/seller/v2/sellers?").concat(i),{})},K=function(e){var n=e.sellerId;return q("".concat("https://api-sellercenter.tala.xyz","/seller/v2/sellers/").concat(n),{})},J=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n){var t,r,i,o,l,s,a;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=n.sellerId)){e.next=6;break}return e.next=4,U();case 4:return r=e.sent,e.abrupt("return",r.data);case 6:return i=[U(),K({sellerId:t})],e.next=9,Promise.all(i);case 9:return o=e.sent,l=(0,D.Z)(o,2),s=l[0],a=l[1],e.abrupt("return",z()("id",[a].concat((0,R.Z)(s.data))));case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),G=function(){var e=T(L);return Boolean(e)},X=["sellerId","onSelect"],$=function(e){var n=e.sellerId,t=void 0===n?"":n,r=e.onSelect,i=(0,P.Z)(e,X),o=function(e){var n=(0,c.useState)([]),t=(0,D.Z)(n,2),r=t[0],i=t[1],o=(0,c.useState)(!1),l=(0,D.Z)(o,2),s=l[0],a=l[1],d=(0,c.useRef)(e),u=F()(function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n){var t;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,U({name:n});case 4:t=e.sent,i(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.prev=11,a(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(n){return e.apply(this,arguments)}}(),500);return(0,c.useEffect)((function(){var e=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(){var n;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,J({sellerId:d.current});case 4:n=e.sent,i(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.prev=11,a(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),{sellers:r,fetching:s,onSearch:u}}(t),l=o.sellers,s=o.fetching,a=o.onSearch;return G()?(0,g.jsx)(I.Z,(0,S.Z)((0,S.Z)({value:""!==t?t:void 0,placeholder:(0,v.wv)({id:"input.please-select-seller"}),onChange:function(e){r(e)},showSearch:!0,onSearch:a,loading:s,filterOption:!1,allowClear:!0,notFoundContent:s?(0,g.jsx)(u.Z,{size:"small",spinning:!0}):(0,v.wv)({id:"common.result-not-found"})},i),{},{children:!s&&l.map((function(e){return(0,g.jsx)(I.Z.Option,{value:e.id,children:e.name},e.id)}))})):null},ee=t(11843),ne=t(21114),te=t(63830),re=t(69706),ie=t.n(re),oe=function(){var e=(0,te.TH)(),n=(0,c.useMemo)((function(){return Object.fromEntries(new URLSearchParams(e.search))}),[e.search]);return{pathname:e.pathname,params:n}},le="draft",se="processing",ae="waiting",ce="successfully",de="canceled",ue=[{value:le,title:"bpor.tabs.title.draft"},{value:se,title:"bpor.tabs.title.processing"},{value:ae,title:"bpor.tabs.title.waiting"},{value:ce,title:"bpor.tabs.title.successfully"},{value:de,title:"bpor.tabs.title.canceled"}],he=t(74776),pe=function(e){return q("".concat("https://api-sellercenter.tala.xyz","/seller/v2/inventory_withdrawals?").concat(e),{},{hasResponseServerMessage:!0,fullpath:!0})},xe=function(e){return q("".concat("https://api-sellercenter.tala.xyz","/seller/v2/outbound_shipments?").concat(e),{},{hasResponseServerMessage:!0,fullpath:!0})},fe=function(e){return q("".concat("https://api-sellercenter.tala.xyz","/seller/v2/inventory_withdrawals/").concat(e,"?include=items"),{},{hasResponseServerMessage:!0,fullpath:!0})},ve=function(e,n){return H("".concat("https://api-sellercenter.tala.xyz","/seller/v2/inventory_withdrawals/").concat(n),{body:e},{hasResponseServerMessage:!0,fullpath:!0})},ge=function(e){var n=e.cursor,t=e.dataPayload,r=e.limit,i=void 0===r?20:r,o=n?"limit=".concat(i,"&cursor=").concat(n):"limit=".concat(i),l="sc/products?".concat(o,"&include=common,attributes,inventory");return O("".concat("https://api.tala.xyz/janus-query/v1","/").concat(l),{body:(0,S.Z)({status:[1,2],entity_type:"seller_simple",inventory_type_id:1},t),headers:{"Content-Type":"application/json","x-source":"janus-query-".concat("prod")}},{fullpath:!0,hasResponseServerMessage:!0})},me=function(e){return O("".concat("https://api-sellercenter.tala.xyz","/seller/v2/inventory_withdrawals/guidance"),{body:e},{fullpath:!0,hasResponseServerMessage:!0})},je=function(e){return O("".concat("https://api-sellercenter.tala.xyz","/seller/v2/inventory_withdrawals"),{body:e},{fullpath:!0,hasResponseServerMessage:!0})},Ze=t(76063),be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";ee.Z.error({message:e||(0,v.wv)({id:"Có lỗi xảy ra"}),description:n||(0,v.wv)({id:"Vui lòng thử lại sau"})})},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.wv)({id:"Thành công"});Ze.ZP.success(e)};function we(e){return e!==le}var ke,Ce,Se,Pe={draft:{key:"draft",value:(0,v.wv)({id:"bpor.status.draft"}),colorTag:"default"},waiting_for_checking:{key:"waiting_for_checking",value:(0,v.wv)({id:"bpor.status.waiting_for_checking"}),colorTag:"default"},waiting_for_tnsl_confirmation:{key:"waiting_for_tnsl_confirmation",value:(0,v.wv)({id:"bpor.status.waiting_for_tnsl_confirmation"}),colorTag:"processing"},tnsl_preparing_stock:{key:"tnsl_preparing_stock",value:(0,v.wv)({id:"bpor.status.tnsl_preparing_stock"}),colorTag:"warning"},ready_to_return:{key:"ready_to_return",value:(0,v.wv)({id:"bpor.status.ready_to_return"}),colorTag:"warning"},canceled:{key:"canceled",value:(0,v.wv)({id:"bpor.status.canceled"}),colorTag:"default"},return_successfully:{key:"return_successfully",value:(0,v.wv)({id:"bpor.status.return_successfully"}),colorTag:"success"},liquidated:{key:"liquidated",value:(0,v.wv)({id:"bpor.status.liquidated"}),colorTag:"error"},failed:{key:"failed",value:(0,v.wv)({id:"bpor.status.failed"}),colorTag:"error"},denied:{key:"denied",value:(0,v.wv)({id:"bpor.status.denied"}),colorTag:"error"}},Ie=[Pe.draft],_e=[Pe.waiting_for_tnsl_confirmation,Pe.tnsl_preparing_stock],Ae=[Pe.ready_to_return],De=[Pe.return_successfully,Pe.liquidated],Ee=[Pe.canceled,Pe.denied],Fe=function(e){var n=e.status,t=e.tab;return t===le?"".concat(n||Pe.draft.key):t===se?n?"".concat(n):"".concat(Pe.waiting_for_tnsl_confirmation.key,",").concat(Pe.tnsl_preparing_stock.key):t===ae?"".concat(n||Pe.ready_to_return.key):t===ce?n?"".concat(n):"".concat(Pe.return_successfully.key,",").concat(Pe.liquidated.key):t===de?n?"".concat(n):"".concat(Pe.liquidated.key,",").concat(Pe.denied.key):null},Te=(0,c.createContext)(null),Le=function(e){var n=e.children,t=e.data,r=Re(t);return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(Te.Provider,{value:(0,S.Z)({},r),children:n})})},Me={sellerId:null,page:1,limit:20,referenceCode:null,code:null,status:null,warehouseCode:null,expectedPickupDate:null,selectedId:null},Re=function(e){var n=oe().params,t=function(){var e=(0,te.k6)(),n=(0,c.useCallback)((function(n){if("string"==typeof n)e.push(n);else{var t=Object.entries(n.query).reduce((function(e,n){var t=(0,D.Z)(n,2),r=t[0],i=t[1];return e[r]=String(i),e}),{}),r=new URLSearchParams(t);e.push({pathname:n.pathname,search:r.toString()})}}),[e]),t=(0,c.useCallback)((function(n){if("string"==typeof n)e.replace(n);else{var t=Object.entries(n.query).reduce((function(e,n){var t=(0,D.Z)(n,2),r=t[0],i=t[1];return e[r]=String(i),e}),{}),r=new URLSearchParams(t);e.replace({pathname:n.pathname,search:r.toString()})}}),[e]);return{goBack:e.goBack,goForward:e.goForward,go:e.go,push:n,replace:t}}().replace,r=T(M),i=(0,ne.Kp)(r.permissions,["Administrator"]),o=r.sellerIds,l=Array.isArray(o)&&1===o.length&&!i,s=ie()(r,["currentUser","seller_id"]),a=(0,c.useState)(!1),d=(0,D.Z)(a,2),u=d[0],h=d[1],p=(0,c.useState)([]),x=(0,D.Z)(p,2),f=x[0],v=x[1],g=(0,c.useState)({}),m=(0,D.Z)(g,2),j=m[0],Z=m[1],b=(0,c.useState)({}),y=(0,D.Z)(b,2),w=y[0],k=y[1],C=(0,c.useState)({}),P=(0,D.Z)(C,2),I=P[0],E=P[1],F=(0,c.useState)((0,S.Z)((0,S.Z)({},Me),{},{page:null==n?void 0:n.page,limit:null==n?void 0:n.limit,sellerId:l?o[0]:n.sellerId,tab:null!=n&&n.tab?n.tab:se,shippingMethod:null==n?void 0:n.shipping_method,expectedPickupDate:null==n?void 0:n.expectedPickupDate,status:null==n?void 0:n.status,warehouseCode:null==n?void 0:n.warehouse_code,code:null==n?void 0:n.code,referenceCode:null==n?void 0:n.reference_code,selectedId:null==n?void 0:n.selectedId})),L=(0,D.Z)(F,2),R=L[0],Q=L[1],z=R.sellerId,B=R.tab,N=R.shippingMethod,Y=R.status,W=R.warehouseCode,V=R.code,q=R.referenceCode,O=R.expectedPickupDate,H=R.limit,U=R.page,K=R.selectedId;(0,c.useEffect)((function(){var e={limit:H,page:U,sellerId:z,tab:B,shippingMethod:N,expectedPickupDate:O,status:Y,warehouseCode:W,code:V,referenceCode:q,selectedId:K},n=(0,ne.Hd)(e);t({pathname:"",query:n})}),[z,t,B,N,Y,W,V,q,O,H,U,K]);var J=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(){var n,t,r,i,o,l;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(!0),n={limit:H,page:U,seller_ids:z,shipping_method:N,expected_pickup_date:O,status:Fe({tab:B,status:Y}),warehouse_code:W,code:V,reference_code:q},t=(0,he.stringify)((0,ne.Hd)(n)),!we(B)){e.next=15;break}return e.next=8,xe(t);case 8:if(!("error"in(r=e.sent))){e.next=11;break}throw new Error(null==r||null===(i=r.error)||void 0===i?void 0:i.message);case 11:v(null==r?void 0:r.data),Z(null==r?void 0:r.paging),e.next=22;break;case 15:return e.next=17,pe(t);case 17:if(!("error"in(o=e.sent))){e.next=20;break}throw new Error(null==o||null===(l=o.error)||void 0===l?void 0:l.message);case 20:v(null==o?void 0:o.data),Z(null==o?void 0:o.paging);case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),be();case 27:return e.prev=27,h(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[0,24,27,30]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){J()}),[z,t,B,N,Y,W,V,q,O,H,U]),(0,c.useEffect)((function(){K&&E({isVisible:!0})}),[]),(0,S.Z)((0,S.Z)({},e),{},{listing:f,listingInfo:j,isLoading:u,setIsLoading:h,query:R,setQuery:Q,createModalData:w,setCreateModalData:k,detailModalData:I,setDetailModalData:E,currentSellerId:s,fetchList:J})},Qe=h.ZP.div(ke||(ke=(0,a.Z)(["\n  padding: 16px 24px;\n"]))),ze=function(){var e,n,t,r,i=(e=(0,c.useContext)(Te),n=e.setCreateModalData,t=e.query,r=e.setQuery,{onOpenCreateModal:function(){null!=t&&t.sellerId?n({isVisible:!0}):ee.Z.error({message:"Chưa chọn nhà bán ex",description:"Chưa chọn nhà bánex"})},onSelectSeller:function(e){r((0,S.Z)((0,S.Z)({},t),{},{sellerId:e}))},sellerId:null==t?void 0:t.sellerId}),o=i.onOpenCreateModal,l=i.onSelectSeller,s=i.sellerId;return(0,g.jsxs)(Qe,{children:[(0,g.jsx)(m,{}),(0,g.jsx)(p,{height:"6px"}),(0,g.jsx)(C,{onOpenCreateModal:o}),(0,g.jsx)(p,{height:"16px"}),(0,g.jsx)($,{style:{width:256},onSelect:l,sellerId:s})]})},Be=t(36459),Ne=t(73591),Ye=(0,h.ZP)(Ne.Z)(Ce||(Ce=(0,a.Z)(["\n  width: 100%;\n  background-color: #fff;\n\n  & > .ant-tabs-nav::before {\n    border-bottom-color: #d9d9d9;\n  }\n\n  & > .ant-tabs-nav {\n    margin: 0;\n    & .ant-tabs-nav-list {\n      & .ant-tabs-tab {\n        width: fit-content;\n        margin-right: 4px;\n        border-radius: 4px 4px 0 0;\n        border-color: #d9d9d9;\n        background-color: #f5f5f5;\n      }\n\n      & .ant-tabs-tab:first-child {\n        margin-left: 32px;\n      }\n\n      @media screen and (max-width: 991px) {\n        & .ant-tabs-tab:first-child {\n          margin-left: 8px;\n        }\n      }\n\n      & .ant-tabs-tab-active {\n        border-top-color: #1890ff;\n        border-top-width: 3px;\n        background-color: #fff;\n        border-bottom: none;\n      }\n\n      & .ant-tabs-tab:not(.ant-tabs-tab-active) strong {\n        color: #262626;\n      }\n    }\n  }\n"]))),We=h.ZP.span(Se||(Se=(0,a.Z)(["\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n"])));function Ve(e){(0,Be.Z)(e);var n=function(){var e=(0,c.useContext)(Te),n=e.query,t=e.setQuery,r=(0,c.useState)(),i=(0,D.Z)(r,2),o=i[0],l=i[1];return(0,c.useEffect)((function(){var e=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(){var n,t;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q("".concat("https://api-sellercenter.tala.xyz","/seller/v2/outbound_shipments/count"),{},{hasResponseServerMessage:!0,fullpath:!0});case 3:if(!("error"in(n=e.sent))){e.next=6;break}throw new Error(null==n||null===(t=n.error)||void 0===t?void 0:t.message);case 6:l(null==n?void 0:n.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),{onTabChange:function(e){t((0,S.Z)((0,S.Z)({},n),{},{tab:e,status:"",referenceCode:"",code:"",page:1}))},tab:null==n?void 0:n.tab,tabData:o}}(),t=n.onTabChange,r=n.tab,i=n.tabData,o=(0,v.LP)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(Ye,{type:"card",size:"middle",activeKey:r,onChange:t,tabPosition:"top",children:ue.map((function(e){var n=function(e,n,t){switch(e.value){case le:return"".concat(t({id:e.title})).concat(null!=n&&n.draft?" (".concat(null==n?void 0:n.draft,")"):"");case se:return"".concat(t({id:e.title})).concat(null!=n&&n.processing?" (".concat(null==n?void 0:n.processing,")"):"");case ae:return"".concat(t({id:e.title})).concat(null!=n&&n.waiting?" (".concat(null==n?void 0:n.waiting,")"):"");case ce:return"".concat(t({id:e.title})).concat(null!=n&&n.completed?" (".concat(null==n?void 0:n.completed,")"):"");case de:return"".concat(t({id:e.title})).concat(null!=n&&n.canceled?" (".concat(null==n?void 0:n.canceled,")"):"");default:return t({id:e.title})}}(e,i,o);return(0,g.jsx)(Ye.TabPane,{tab:(0,g.jsx)(We,{children:n})},null==e?void 0:e.value)}))})})}var qe,Oe,He,Ue,Ke,Je,Ge,Xe,$e,en,nn,tn,rn,on,ln,sn,an,cn,dn,un,hn,pn,xn,fn,vn,gn,mn,jn,Zn=t(32697),bn=t(32878),yn=t(67440),wn=t(54353),kn=t.n(wn),Cn=(0,h.ZP)(j.Z)(qe||(qe=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-around;\n  height: 40px;\n  color: ",";\n  border-color: ",";\n"])),(function(e){return null!=e&&e.isFiltering?"black":"rgba(0, 0, 0, 0.25)"}),(function(e){return(null==e?void 0:e.isFiltering)&&"#40a9ff"})),Sn=(0,h.ZP)(yn.Z)(Oe||(Oe=(0,a.Z)(["\n  font-size: 12px;\n  margin-top: 4px;\n"]))),Pn=h.ZP.div(He||(He=(0,a.Z)(["\n  width: 292px;\n  max-height: 254px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center ;\n  margin-top: 5px;\n"]))),In=h.ZP.div(Ue||(Ue=(0,a.Z)(["\n  max-height: 254px;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n\n"]))),_n=h.ZP.div(Ke||(Ke=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),An=(0,h.ZP)(Zn.Z)(Je||(Je=(0,a.Z)(["\n  margin-left: 8px;\n  margin-bottom: 14px;\n"]))),Dn=function(e){var n=e.statusValue,t=void 0===n?[]:n,r=e.onSelectStatus,i=e.options,o=void 0===i?[]:i,l=(0,c.useState)(!1),s=(0,D.Z)(l,2),a=s[0],d=s[1],u=(0,c.useState)(t),h=(0,D.Z)(u,2),x=h[0],f=h[1],m=t.length>0;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{width:"8px"}),(0,g.jsx)(bn.Z,{visible:a,placement:"bottom",title:null,content:(0,g.jsx)(En,{options:o,onApply:function(){d(!1),r(x)},onClearAll:function(){d(!1),r([])},onCheck:function(e){if(-1!==kn()(x,(function(n){return n===e}))){var n=x.filter((function(n){return n!==e}));return f(n)}return f([].concat((0,R.Z)(x),[e]))},valueState:x}),onVisibleChange:function(e){d(e),f(t)},trigger:"click",children:(0,g.jsxs)(Cn,{isFiltering:m,onClick:function(){return d(!0)},children:[(0,v.wv)({id:"bpor.status"}),(0,g.jsx)(p,{width:"12px"}),(0,g.jsx)(Sn,{})]})})]})},En=function(e){var n=e.onApply,t=e.onClearAll,r=e.onCheck,i=e.valueState,o=e.options;return(0,g.jsxs)(Pn,{children:[(0,g.jsx)(In,{children:o.map((function(e,n){return(0,g.jsx)(Fn,{item:e,value:i,onCheck:r},n)}))}),(0,g.jsxs)(_n,{children:[(0,g.jsx)(j.Z,{style:{flex:1},onClick:t,children:(0,v.wv)({id:"Bỏ lọc"})}),(0,g.jsx)(p,{width:"20px"}),(0,g.jsx)(j.Z,{type:"primary",style:{flex:1},onClick:n,children:(0,v.wv)({id:"Áp dụng"})})]})]})},Fn=function(e){var n=e.item,t=e.onCheck,r=e.value,i=(void 0===r?[]:r).includes(null==n?void 0:n.key);return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(An,{checked:i,value:ie()(Pe,[n,"key"]),onChange:function(){return t(null==n?void 0:n.key)},children:null==n?void 0:n.value})})},Tn=t(15401),Ln=t(55153),Mn=(t(42647),(0,Ln.ZP)(Tn.Z)),Rn=t(10658),Qn=t.n(Rn),zn=t(75649),Bn=t(66204),Nn=t(46155),Yn=h.ZP.div(Ge||(Ge=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),Wn=h.ZP.div(Xe||(Xe=(0,a.Z)(["\n  flex: 1;\n"]))),Vn=h.ZP.div($e||($e=(0,a.Z)(["\n  cursor: pointer;\n"]))),qn=h.ZP.span(en||(en=(0,a.Z)(["\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 22px;\n  color: #262626;\n"]))),On=function(e){var n=e.title,t=e.action;return(0,g.jsxs)(Yn,{children:[(0,g.jsx)(Wn,{children:(0,g.jsx)(qn,{children:n})}),(0,g.jsx)(Vn,{onClick:t,children:(0,g.jsx)("a",{children:(0,v.wv)({id:"Xoá"})})})]})},Hn=(0,h.ZP)(j.Z)(nn||(nn=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 32px;\n  color: rgba(0, 0, 0, 0.25);\n  width: 100%;\n"]))),Un=(0,h.ZP)(yn.Z)(tn||(tn=(0,a.Z)(["\n  font-size: 12px;\n  margin-top: 4px;\n"]))),Kn=h.ZP.div(rn||(rn=(0,a.Z)(["\n  width: 292px;\n  max-height: 250px;\n  display: flex;\n  flex-direction: column;\n  margin-top: 5px;\n"]))),Jn=h.ZP.div(on||(on=(0,a.Z)(["\n  height: 254px;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n"]))),Gn=h.ZP.div(ln||(ln=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),Xn=(0,h.ZP)(Zn.Z)(sn||(sn=(0,a.Z)(["\n  margin-left: 8px;\n  margin-bottom: 8px;\n"]))),$n=h.ZP.div(an||(an=(0,a.Z)(["\n  width: 100%;\n  overflow-x: scroll;\n  display: flex;\n  flex-direction: row;\n"]))),et=h.ZP.span(cn||(cn=(0,a.Z)(["\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 22px;\n  color: #262626;\n"]))),nt=function(e){var n=e.warehouses,t=void 0===n?[]:n,r=e.onChangeWarehouseSelected,i=e.warehouseCode,o=i?i.split(","):[],l=(0,c.useState)(!1),s=(0,D.Z)(l,2),a=s[0],d=s[1],u=(0,c.useState)(o),h=(0,D.Z)(u,2),x=h[0],f=h[1];(0,c.useEffect)((function(){var e=i?i.split(","):[];f(e)}),[i]);var m=function(){f([]),r(null)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(On,{title:(0,v.wv)({id:"Kho nhập hàng"}),action:m}),(0,g.jsx)(p,{height:"10px"}),(0,g.jsx)(bn.Z,{visible:a,placement:"bottom",title:null,content:(0,g.jsx)(tt,{onApply:function(){return d(!1),r((0,R.Z)(x))},warehouses:t,onClearAll:function(){d(!1),m()},onCheck:function(e){if(-1!==kn()(x,(function(n){return n===e}))){var n=x.filter((function(n){return n!==e}));return f(n)}return f([].concat((0,R.Z)(x),[e]))},valueState:x}),onVisibleChange:function(e){d(e),f(o)},trigger:"click",children:(0,g.jsxs)(Hn,{onClick:function(){return d(!0)},children:[x.length>0?(0,g.jsx)($n,{children:x.map((function(e,n){return(0,g.jsxs)(Bn.Z,{children:[(0,v.wv)({id:"bpor.warehouse"})," ",e?e.toUpperCase():""]},n)}))}):(0,v.wv)({id:"Kho hàng"}),(0,g.jsx)(p,{width:"12px"}),(0,g.jsx)(Un,{})]})}),(0,g.jsx)(Nn.Z,{style:{margin:"16px 0px"}})]})},tt=function(e){var n=e.warehouses,t=void 0===n?[]:n,r=e.onApply,i=e.onClearAll,o=e.onCheck,l=e.valueState,s=t;return(0,g.jsxs)(Kn,{children:[(0,g.jsx)(Jn,{children:s.map((function(e,n){var t=ie()(e,["name"],"empty"),r=ie()(e,["data"],[]);return 0===r.length?null:(0,g.jsxs)(c.Fragment,{children:[(0,g.jsx)(et,{style:{marginBottom:8},children:(0,v.wv)({id:t})}),r.map((function(e,n){return(0,g.jsx)(rt,{item:e,value:l,onCheck:o},n)}))]},n)}))}),(0,g.jsxs)(Gn,{children:[(0,g.jsx)(j.Z,{style:{flex:1},onClick:i,children:(0,v.wv)({id:"Bỏ lọc"})}),(0,g.jsx)(p,{width:"20px"}),(0,g.jsx)(j.Z,{type:"primary",style:{flex:1},onClick:r,children:(0,v.wv)({id:"Áp dụng"})})]})]})},rt=function(e){var n=e.item,t=e.onCheck,r=e.value,i=(void 0===r?[]:r).includes(null==n?void 0:n.code);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(Xn,{checked:i,value:ie()(n,["code"]),onChange:function(){return t(null==n?void 0:n.code)},children:[(0,v.wv)({id:"bpor.warehouse"})," ",ie()(n,["code"],"").toUpperCase()]})})},it=(0,h.ZP)(j.Z)(dn||(dn=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 32px;\n  color: rgba(0, 0, 0, 0.25);\n  width: 100%;\n"]))),ot=(0,h.ZP)(yn.Z)(un||(un=(0,a.Z)(["\n  font-size: 12px;\n  margin-top: 4px;\n"]))),lt=h.ZP.div(hn||(hn=(0,a.Z)(["\n  width: 292px;\n  max-height: 254px;\n  display: flex;\n  flex-direction: column;\n  margin-top: 5px;\n"]))),st=h.ZP.div(pn||(pn=(0,a.Z)(["\n  height: 254px;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n"]))),at=h.ZP.div(xn||(xn=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),ct=(0,h.ZP)(Zn.Z)(fn||(fn=(0,a.Z)(["\n  margin-left: 8px;\n  margin-bottom: 14px;\n"]))),dt=h.ZP.div(vn||(vn=(0,a.Z)(["\n  width: 100%;\n  overflow-x: scroll;\n  display: flex;\n  flex-direction: row;\n"]))),ut=function(e){var n=e.status,t=e.onChangeStatus,r=De,i=n?n.split(","):[],o=(0,c.useState)(!1),l=(0,D.Z)(o,2),s=l[0],a=l[1],d=(0,c.useState)(i),u=(0,D.Z)(d,2),h=u[0],x=u[1];(0,c.useEffect)((function(){var e=n?n.split(","):[];x(e)}),[n]);var f=function(){x([]),t(null)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(On,{title:(0,v.wv)({id:"bpor.status"}),action:f}),(0,g.jsx)(p,{height:"10px"}),(0,g.jsx)(bn.Z,{visible:s,placement:"bottom",title:null,content:(0,g.jsx)(ht,{listStatus:r,onApply:function(){return a(!1),t((0,R.Z)(h))},onClearAll:function(){a(!1),f()},onCheck:function(e){if(-1!==kn()(h,(function(n){return n===e}))){var n=h.filter((function(n){return n!==e}));return x(n)}return x([].concat((0,R.Z)(h),[e]))},statusValue:h}),onVisibleChange:function(e){a(e),x(i)},trigger:"click",children:(0,g.jsxs)(it,{onClick:function(){return a(!0)},children:[h.length>0?(0,g.jsx)(dt,{children:h.map((function(e,n){var t=kn()(r,(function(n){return(null==n?void 0:n.key)===e}));return(0,g.jsx)(Bn.Z,{children:ie()(r,[t,"value"])},n)}))}):(0,v.wv)({id:"bpor.status"}),(0,g.jsx)(p,{width:"12px"}),(0,g.jsx)(ot,{})]})}),(0,g.jsx)(Nn.Z,{style:{margin:"16px 0px"}})]})},ht=function(e){var n=e.onApply,t=e.onClearAll,r=e.onCheck,i=e.statusValue,o=e.listStatus,l=void 0===o?[]:o;return(0,g.jsxs)(lt,{children:[(0,g.jsx)(st,{children:l.map((function(e,n){return(0,g.jsx)(pt,{item:e,value:i,onCheck:r},n)}))}),(0,g.jsxs)(at,{children:[(0,g.jsx)(j.Z,{style:{flex:1},onClick:t,children:(0,v.wv)({id:"Bỏ lọc"})}),(0,g.jsx)(p,{width:"20px"}),(0,g.jsx)(j.Z,{type:"primary",style:{flex:1},onClick:n,children:(0,v.wv)({id:"Áp dụng"})})]})]})},pt=function(e){var n=e.item,t=e.onCheck,r=e.value,i=(void 0===r?[]:r).includes(null==n?void 0:n.key);return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(ct,{checked:i,value:null==n?void 0:n.key,onChange:function(){return t(null==n?void 0:n.key)},children:null==n?void 0:n.value})})},xt={instock:{key:"instock",name_tiki:"Instock",name_seller:"FBT - Hàng lưu kho Tiki",displayForSeller:!0,isDisable:!0,isTiki:!0,value:"FBT",description:"Hàng lưu kho Tiki",name:"Phiếu gửi FBT"},backorder:{key:"backorder",name_tiki:"Backorder",name_seller:"ODF - Hàng lưu kho nhà bán",displayForSeller:!0,isDisable:!1,isTiki:!0,value:"ODF",description:"Hàng lưu kho nhà bán",name:"Phiếu gửi ODF"},seller_backorder:{key:"seller_backorder",name_tiki:"Fulfillment By Seller",name_seller:"SD - Nhà bán tự vận hành",displayForSeller:!0,isDisable:!1,isTiki:!0,value:"SD",description:"Nhà bán tự vận hành"},virtual:{key:"virtual",name_tiki:"eDelivery",name_seller:"E-Delivery - Giao hàng điện tử",displayForSeller:!0,isDisable:!1,isTiki:!0,value:"E-Delivery",description:"Giao hàng điện tử"},virtual_backorder:{key:"virtual_backorder",name_tiki:"eDelivery + Backorder",name_seller:"E-Voucher & Voucher giấy",displayForSeller:!0,isDisable:!1,isTiki:!0,value:"E-Voucher & Voucher giấy",description:""},cross_border:{key:"cross_border",name_tiki:"CrossBorder",name_seller:"CrossBorder",displayForSeller:!0,isDisable:!1,isTiki:!0,value:"CrossBorder",description:""},upcoming:{key:"upcoming",name_tiki:"Upcoming",name_seller:"Upcoming",displayForSeller:!1,isDisable:!1,isTiki:!0,value:"Upcoming",description:""},discontinued:{key:"discontinued",name_tiki:"Discontinued",name_seller:"Discontinued",displayForSeller:!1,isDisable:!1,isTiki:!0,value:"Discontinued",description:""},preorder:{key:"preorder",name_tiki:"Preorder",name_seller:"Preorder",displayForSeller:!1,isDisable:!1,isTiki:!0,value:"Preorder",description:""},multi_channels:{key:"multi_channels",name_tiki:"Multi Channels",name_seller:"Multi Channels",displayForSeller:!0,isDisable:!1,isTiki:!0,value:"Multi Channels",description:""},dropship:{key:"dropship",name_tiki:"Dropship",name_seller:"Dropship - Nhà bán tự đóng gói, Tiki nhận hàng đi giao",displayForSeller:!0,isDisable:!1,isTiki:!0,value:"Dropship",description:"Nhà bán tự đóng gói, Tiki nhận hàng đi giao"}},ft=((0,v.wv)({id:"fbt.po.delivery_type.shipping_seller"}),(0,v.wv)({id:"fbt.po.delivery_type.shipping_tiki"}),function(e){var n=e.type,t=e.onChangeType,r=n?n.split(","):[],i=[xt.backorder,xt.instock];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(On,{title:(0,v.wv)({id:"Loại phiếu gửi"}),action:function(){return t(null)}}),(0,g.jsx)(p,{height:"10px"}),(0,g.jsx)(Zn.Z.Group,{value:r,style:{width:"100%"},onChange:function(e){return t((0,R.Z)(e))},children:(0,g.jsx)(x.Z,{gutter:[0,8],children:i.map((function(e){return(0,g.jsx)(d.Z,{span:12,children:(0,g.jsx)(Zn.Z,{value:e.key,children:(0,v.wv)({id:e.name})})},e.key)}))})}),(0,g.jsx)(Nn.Z,{style:{margin:"16px 0px"}})]})}),vt=function(e){var n=e.type,t=e.onChangeType,r=n?n.split(","):[],i=[xt.backorder,xt.instock];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(On,{title:(0,v.wv)({id:"Loại phiếu gửi"}),action:function(){return t(null)}}),(0,g.jsx)(p,{height:"10px"}),(0,g.jsx)(Zn.Z.Group,{value:r,style:{width:"100%"},onChange:function(e){return t((0,R.Z)(e))},children:(0,g.jsx)(x.Z,{gutter:[0,8],children:i.map((function(e){return(0,g.jsx)(d.Z,{span:12,children:(0,g.jsx)(Zn.Z,{value:e.key,children:(0,v.wv)({id:e.name})})},e.key)}))})}),(0,g.jsx)(Nn.Z,{style:{margin:"16px 0px"}})]})},gt=function(e){var n=e.onSelectDate,t=e.expectedInboundDate;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(On,{title:(0,v.wv)({id:"Lịch nhập hàng"}),action:function(){return n(null)}}),(0,g.jsx)(p,{height:"10px"}),(0,g.jsx)(Mn,{inputReadOnly:!0,format:"DD/MM/YYYY",name:"start_date",onChange:n,defaultValue:t&&Qn()(t,"YYYY-MM-DD"),value:t&&Qn()(t,"YYYY-MM-DD"),placeholder:"Lịch nhập hàng",style:{width:"100%"}}),(0,g.jsx)(Nn.Z,{style:{margin:"16px 0px"}})]})},mt=function(e){return(0,Be.Z)(e),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(nt,{}),(0,g.jsx)(ut,{}),(0,g.jsx)(ft,{}),(0,g.jsx)(vt,{}),(0,g.jsx)(gt,{})]})},jt=h.ZP.div(gn||(gn=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  width: 100%;\n"]))),Zt=function(e){var n=e.onClearFilter,t=e.isDisableButton,r=e.onApply;return(0,g.jsxs)(jt,{children:[(0,g.jsx)(j.Z,{onClick:n,children:(0,v.wv)({id:"Bỏ lọc"})}),(0,g.jsx)(p,{width:"12px"}),(0,g.jsx)(j.Z,{disabled:t,type:"primary",onClick:r,children:(0,v.wv)({id:"Áp dụng"})})]})},bt=function(e){var n=e.isVisible,t=e.onClose;return(0,g.jsx)(zn.Z,{title:(0,v.wv)({id:"bpor.another_filter"}),placement:"right",onClose:t,width:378,bodyStyle:{padding:"16px 12px"},visible:n,footer:(0,g.jsx)(Zt,{onApply:function(){},onClearFilter:function(){},isDisableButton:!1}),children:(0,g.jsx)(mt,{})})},yt=h.ZP.div(mn||(mn=(0,a.Z)(["\n  padding: 16px 24px;\n"]))),wt=(0,h.ZP)(j.Z)(jn||(jn=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-around;\n  height: 40px;\n"])));function kt(e){(0,Be.Z)(e);var n=(0,v.LP)(),t=function(){var e=(0,c.useContext)(Te),n=e.query,t=e.setQuery,r=n.code,i=n.status,o=n.expectedPickupDate,l=n.tab,s=(0,c.useState)(!1),a=(0,D.Z)(s,2),d=a[0],u=a[1],h=(0,c.useMemo)((function(){return r?r.split(","):[]}),[r]);return{statusValue:(0,c.useMemo)((function(){return i?i.split(","):[]}),[i]),onSelectDate:function(e){t((0,S.Z)((0,S.Z)({},n),{},{expectedPickupDate:e.format("YYYY-MM-DD")}))},onSelectStatus:function(e){t((0,S.Z)((0,S.Z)({},n),{},{status:e.toString()}))},onOpenDrawer:function(){return u(!0)},onCloseDrawer:function(){return u(!1)},isOpenDrawer:d,expectedPickupDate:o,searchValue:h,onChangeSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t((0,S.Z)((0,S.Z)({},n),{},{code:e.toString()}))},optionsStatus:(0,c.useMemo)((function(){switch(l){case le:return Ie;case se:return _e;case ae:return Ae;case ce:return De;case de:return Ee;default:return[]}}),[l])}}(),r=t.statusValue,i=t.onSelectDate,o=t.onSelectStatus,l=t.onOpenDrawer,s=t.onCloseDrawer,a=t.isOpenDrawer,u=t.expectedPickupDate,h=t.searchValue,f=t.onChangeSearch,m=t.optionsStatus;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(bt,{isVisible:a,onClose:s}),(0,g.jsx)(yt,{children:(0,g.jsxs)(x.Z,{gutter:24,children:[(0,g.jsx)(d.Z,{span:12,children:(0,g.jsx)(Y.ol,{size:"large",id:"search-1",placeholder:n({id:"Nhập tối đa 50 mã phiếu cách nhau bằng dấu ‘ , ‘"}),value:h,onChange:f})}),(0,g.jsx)(d.Z,{span:12,children:(0,g.jsxs)(x.Z,{children:[(0,g.jsx)("div",{style:{height:40},children:(0,g.jsx)(Dn,{statusValue:r,onSelectStatus:o,options:m})}),(0,g.jsx)(p,{width:"8px"}),(0,g.jsx)(Mn,{format:"DD/MM/YYYY",name:"start_date",onChange:i,value:u&&Qn()(u,"YYYY-MM-DD"),defaultValue:u&&Qn()(u,"YYYY-MM-DD"),placeholder:n({id:"Lịch rút hàng"}),style:{minWidth:180,borderColor:u?"#40a9ff":"#d9d9d9"}}),(0,g.jsx)(p,{width:"8px"}),(0,g.jsxs)(wt,{onClick:l,children:[n({id:"bpor.another_filter"}),(0,g.jsx)(p,{width:"6px"}),(0,g.jsx)(Z.Z,{})]})]})})]})})]})}var Ct,St,Pt,It="OVERDUE_AND_LIQUIDATION",_t="NEED_TO_WITHDRAW_SOON",At="TIKI_RETURN",Dt={TIKI_RETURN:{key:At,value:At,label:"Tiki trả hàng cho bạn"},NEED_TO_WITHDRAW_SOON:{key:_t,value:_t,label:"Cần rút sớm"},OVERDUE_AND_LIQUIDATION:{key:It,value:It,label:"Đã quá hạn và thanh lý"}},Et=t(43681),Ft=h.ZP.span(Ct||(Ct=(0,a.Z)(["\nfont-weight: 400;\nfont-size: 14px;\nline-height: 22px;\ncolor: #262626;\n"]))),Tt=h.ZP.div(St||(St=(0,a.Z)(["\n  min-height: 32px;\n  padding: 3px 16px;\n  border-radius: 20px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  background-color: white;\n  border: 1px solid #1890FF;\n  cursor: pointer;\n"])));function Lt(e){var n=e.data,t=(0,v.LP)();return(0,g.jsxs)(Tt,{children:[(0,g.jsx)(Et.Z,{style:{color:"#1890FF"}}),(0,g.jsx)(p,{width:"5px"}),(0,g.jsx)(Ft,{children:t({id:null==n?void 0:n.label})})]})}var Mt=h.ZP.div(Pt||(Pt=(0,a.Z)(["\n  padding: 0px 24px;\n  margin-bottom: 24px ;\n"])));function Rt(e){return(0,Be.Z)(e),(0,g.jsx)(Mt,{children:(0,g.jsxs)(x.Z,{children:[(0,g.jsx)(Lt,{data:Dt.TIKI_RETURN}),(0,g.jsx)(p,{width:"10px"}),(0,g.jsx)(Lt,{data:Dt.NEED_TO_WITHDRAW_SOON}),(0,g.jsx)(p,{width:"10px"}),(0,g.jsx)(Lt,{data:Dt.OVERDUE_AND_LIQUIDATION})]})})}var Qt,zt,Bt,Nt,Yt,Wt,Vt,qt,Ot,Ht,Ut,Kt,Jt,Gt,Xt,$t,er,nr,tr,rr,ir,or,lr,sr,ar,cr,dr,ur,hr,pr,xr,fr,vr,gr,mr,jr,Zr,br,yr,wr,kr,Cr,Sr,Pr,Ir,_r,Ar,Dr,Er,Fr,Tr,Lr,Mr,Rr,Qr,zr,Br,Nr,Yr,Wr,Vr,qr,Or,Hr=t(76796),Ur=t(6986),Kr=["children","style"],Jr=["children","style"],Gr=["children","style"],Xr=["children","style"],$r=["children","style"],ei=["children","style"],ni=["children","style"],ti=["children","style"],ri=["children","style"],ii=["children","style"],oi=["children","style"],li=h.ZP.span(Qt||(Qt=(0,a.Z)(["\n    font-style: normal;\n    font-weight: ","; \n    font-size: ",";\n    color: ",";\n"])),(function(e){return null!=e&&e.fontWeight?e.fontWeight:"600"}),(function(e){return null!=e&&e.size?e.size:"20px"}),(function(e){return null!=e&&e.color?e.color:"#262626"})),si=function(e){var n=e.children,t=e.style,r=void 0===t?{}:t,i=(0,P.Z)(e,Kr);return(0,g.jsx)(li,(0,S.Z)((0,S.Z)({style:r},i),{},{children:n}))},ai=h.ZP.span(zt||(zt=(0,a.Z)(["\n    font-style: normal;\n    font-weight: ","; \n    font-size: ",";\n    color: ",";\n"])),(function(e){return null!=e&&e.fontWeight?e.fontWeight:"600"}),(function(e){return null!=e&&e.size?e.size:"16px"}),(function(e){return null!=e&&e.color?e.color:"#262626"})),ci=function(e){var n=e.children,t=e.style,r=void 0===t?{}:t,i=(0,P.Z)(e,Jr);return(0,g.jsx)(ai,(0,S.Z)((0,S.Z)({style:r},i),{},{children:n}))},di=h.ZP.span(Bt||(Bt=(0,a.Z)(["\n    font-style: normal;\n    font-weight: ","; \n    font-size: ",";\n    color: ",";\n"])),(function(e){return null!=e&&e.fontWeight?e.fontWeight:"600"}),(function(e){return null!=e&&e.size?e.size:"14px"}),(function(e){return null!=e&&e.color?e.color:"#262626"})),ui=function(e){var n=e.children,t=e.style,r=void 0===t?{}:t,i=(0,P.Z)(e,Gr);return(0,g.jsx)(di,(0,S.Z)((0,S.Z)({style:r},i),{},{children:n}))},hi=h.ZP.span(Nt||(Nt=(0,a.Z)(["\n    font-style: normal;\n    font-weight: ","; \n    font-size: ",";\n    color: ",";\n"])),(function(e){return null!=e&&e.fontWeight?e.fontWeight:"400"}),(function(e){return null!=e&&e.size?e.size:"14px"}),(function(e){return null!=e&&e.color?e.color:"#8C8C8C"})),pi=function(e){var n=e.children,t=e.style,r=void 0===t?{}:t,i=(0,P.Z)(e,Xr);return(0,g.jsx)(hi,(0,S.Z)((0,S.Z)({style:r},i),{},{children:n}))},xi=h.ZP.span(Yt||(Yt=(0,a.Z)(["\n    font-style: normal;\n    font-weight: ","; \n    font-size: ",";\n    color: ",";\n"])),(function(e){return null!=e&&e.fontWeight?e.fontWeight:"400"}),(function(e){return null!=e&&e.size?e.size:"12px"}),(function(e){return null!=e&&e.color?e.color:"#8C8C8C"})),fi=function(e){var n=e.children,t=e.style,r=void 0===t?{}:t,i=(0,P.Z)(e,$r);return(0,g.jsx)(xi,(0,S.Z)((0,S.Z)({style:r},i),{},{children:n}))},vi=h.ZP.span(Wt||(Wt=(0,a.Z)(["\n    font-style: normal;\n    font-weight: ","; \n    font-size: ",";\n    color: ",";\n"])),(function(e){return null!=e&&e.fontWeight?e.fontWeight:"400"}),(function(e){return null!=e&&e.size?e.size:"14px"}),(function(e){return null!=e&&e.color?e.color:"#262626"})),gi=function(e){var n=e.children,t=e.style,r=void 0===t?{}:t,i=(0,P.Z)(e,ei);return(0,g.jsx)(vi,(0,S.Z)((0,S.Z)({style:r},i),{},{children:n}))},mi=h.ZP.span(Vt||(Vt=(0,a.Z)(["\n    font-style: normal;\n    font-weight: ","; \n    font-size: ",";\n    color: ",";\n"])),(function(e){return null!=e&&e.fontWeight?e.fontWeight:"400"}),(function(e){return null!=e&&e.size?e.size:"12px"}),(function(e){return null!=e&&e.color?e.color:"#595959"})),ji=function(e){var n=e.children,t=e.style,r=void 0===t?{}:t,i=(0,P.Z)(e,ni);return(0,g.jsx)(mi,(0,S.Z)((0,S.Z)({style:r},i),{},{children:n}))},Zi=h.ZP.span(qt||(qt=(0,a.Z)(["\n    font-style: normal;\n    font-weight: ","; \n    font-size: ",";\n    color: ",";\n"])),(function(e){return null!=e&&e.fontWeight?e.fontWeight:"500"}),(function(e){return null!=e&&e.size?e.size:"14px"}),(function(e){return null!=e&&e.color?e.color:"#595959"})),bi=function(e){var n=e.children,t=e.style,r=void 0===t?{}:t,i=(0,P.Z)(e,ti);return(0,g.jsx)(Zi,(0,S.Z)((0,S.Z)({style:r},i),{},{children:n}))},yi=h.ZP.span(Ot||(Ot=(0,a.Z)(["\n    color: ",";\n    cursor: pointer;\n    font-style: normal;\n    font-size: ",";\n"])),(function(e){return null!=e&&e.color?e.color:"#1890ff"}),(function(e){return null!=e&&e.size?e.size:"14px"})),wi=function(e){var n=e.children,t=e.style,r=void 0===t?{}:t,i=(0,P.Z)(e,ri);return(0,g.jsx)(yi,(0,S.Z)((0,S.Z)({style:r},i),{},{children:n}))},ki=h.ZP.span(Ht||(Ht=(0,a.Z)(["\n    color: ",";\n    font-style: normal;\n    font-size: ",";\n"])),(function(e){return null!=e&&e.color?e.color:"#1890ff"}),(function(e){return null!=e&&e.size?e.size:"14px"})),Ci=function(e){var n=e.children,t=e.style,r=void 0===t?{}:t,i=(0,P.Z)(e,ii);return(0,g.jsx)(ki,(0,S.Z)((0,S.Z)({style:r},i),{},{children:n}))},Si=h.ZP.a(Ut||(Ut=(0,a.Z)(["\n    font-style: normal;\n    font-size: ",";\n"])),(function(e){return null!=e&&e.size?e.size:"14px"})),Pi=function(e){var n=e.children,t=e.style,r=void 0===t?{}:t,i=(0,P.Z)(e,oi);return(0,g.jsx)(Si,(0,S.Z)((0,S.Z)({style:r},i),{},{children:n}))},Ii=t(37289),_i={EDIT:{key:"EDIT",text:"Chỉnh sửa"},DELETE:{key:"DELETE",text:"Xoá"},COPY:{key:"COPY",text:"Sao chép"},DETAIL:{key:"DETAIL",text:"Xem chi tiết"},CANCEL:{key:"CANCEL",text:"Huỷ"},PRINT_BPOR:{key:"PRINT_BPOR",text:"In phiếu rút hàng"}},Ai=t(53961),Di=t(78267),Ei=t(90776),Fi=t(66407),Ti=t(57325),Li=function(e){var n=e.text,t=(0,v.LP)(),r=(0,c.useState)(t({id:"Copy"})),i=(0,D.Z)(r,2),o=i[0],l=i[1],s=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n){return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return e.next=3,(0,ne.gw)(300);case 3:l(t({id:"Copy"}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,g.jsx)(Ti.Z,{title:o,trigger:"hover",onVisibleChange:s,children:(0,g.jsx)(Fi.Z,{onClick:function(){var e;e=n,navigator.clipboard.writeText(e),l(t({id:"Copied"}))}})})},Mi=function(e){var n=G(),t=(0,c.useContext)(Te),r=t.setDetailModalData,i=t.query,o=t.setQuery;return{onOpenDetail:function(){o((0,S.Z)((0,S.Z)({},i),{},{selectedId:e})),r({isVisible:!0})},canSelectSeller:n}},Ri=function(e){var n=e.record,t=Mi(null==n?void 0:n.id),r=t.onOpenDetail,i=t.canSelectSeller;if(co(null==n?void 0:n.status)){var o=null!=n&&n.created_at?Qn().unix(null==n?void 0:n.created_at).format("DD/MM/YYYY - HH:mm:ss"):"";return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(wi,{style:{display:"block"},children:(0,g.jsxs)(wi,{size:"14px",fontWeight:"600",onClick:r,children:["BPOR nháp - ",o]})}),i&&(0,g.jsxs)(Bn.Z,{style:{marginTop:5,borderRadius:10,backgroundColor:"#F0F0F0"},children:[(0,g.jsx)(Ei.Z,{style:{color:"#8C8C8C"}}),(0,g.jsx)("span",{style:{color:"#595959",fontWeight:400},children:null==n?void 0:n.seller_name})]})]})}return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(Ci,{size:"14px",fontWeight:"600",style:{display:"block"},children:[(0,g.jsx)(wi,{onClick:r,style:{marginRight:5},children:null==n?void 0:n.code}),(0,g.jsx)(Li,{text:null==n?void 0:n.code})]}),(null==n?void 0:n.reference_code)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(pi,{style:{display:"block"},children:"Mã phiếu gửi nhà bán:"}),(0,g.jsxs)(gi,{style:{display:"block"},children:[null==n?void 0:n.reference_code," ",(0,g.jsx)(Li,{text:null==n?void 0:n.reference_code})]})]}),i&&(0,g.jsxs)(Bn.Z,{style:{marginTop:5,borderRadius:10,backgroundColor:"#F0F0F0"},children:[(0,g.jsx)(Ei.Z,{style:{color:"#8C8C8C"}}),(0,g.jsx)("span",{style:{color:"#595959",fontWeight:400},children:null==n?void 0:n.seller_name})]})]})},Qi=h.ZP.div(Kt||(Kt=(0,a.Z)(["\n    width: 100%;\n    min-height: 32px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    border-radius: 2px 0px 0px 2px;\n    border: ",";\n    cursor: pointer;\n"])),(function(e){return e.borderColor?"1px solid ".concat(e.borderColor):"1px solid #D9D9D9"})),zi=h.ZP.div(Jt||(Jt=(0,a.Z)(["\n    border-left: ",";\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    min-height: 32px;\n    width: 32px;\n    cursor: -webkit-grab; cursor: grab;\n"])),(function(e){return e.borderColor?"1px solid ".concat(e.borderColor):"1px solid #D9D9D9"})),Bi=h.ZP.div(Gt||(Gt=(0,a.Z)(["\n    flex:1;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n"]))),Ni=function(e,n){return(0,g.jsx)(Ai.Z,{children:e.map((function(e){return(0,g.jsx)(Ai.Z.Item,{onClick:function(){return n(ie()(e,["key"],""))},children:(0,g.jsx)("a",{target:"_blank",rel:"noopener noreferrer",children:null==e?void 0:e.text})},e.key)}))})},Yi=function(e){var n=e.record,t=Mi(null==n?void 0:n.id).onOpenDetail,r=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""){case Pe.draft.key:case Pe.waiting_for_checking.key:return{first:_i.EDIT,second:_i.DELETE,list:[_i.COPY]};case Pe.ready_to_return.key:return{first:_i.EDIT,second:_i.PRINT_BPOR,list:[_i.COPY,_i.DELETE]};default:return{first:_i.DETAIL,second:_i.COPY}}}(n.status),i=ie()(r,["list"],[]),o=function(e){e!==ie()(_i,["DETAIL","key"])&&e!==ie()(_i,["EDIT","key"])||t()};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Qi,{borderColor:"#1890FF",onClick:function(){return o(ie()(r,["first","key"],""))},children:(0,g.jsx)(Bi,{children:(0,g.jsx)(gi,{color:"#1890FF",children:ie()(r,["first","text"],"")})})}),(0,g.jsx)(p,{height:"4px"}),(0,g.jsxs)(Qi,{children:[(0,g.jsx)(Bi,{onClick:function(){return o(ie()(r,["second","key"],""))},children:(0,g.jsx)(gi,{children:ie()(r,["second","text"],"")})}),i.length>0&&(0,g.jsx)(Di.Z,{overlay:Ni(i,o),placement:"bottomRight",trigger:["hover"],children:(0,g.jsx)(zi,{children:(0,g.jsx)(Ii.Z,{})})})]})]})},Wi=function(e){var n=e.record;return co(null==n?void 0:n.status)?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(ji,{children:"--"})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(ji,{children:null==n?void 0:n.note})})},Vi=t(43065),qi=t(99313),Oi=I.Z.Option,Hi=h.ZP.div(Xt||(Xt=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n"]))),Ui=function(e){var n=e.isMweb,t=e.children,r=e.isShowPopup,i=e.setIsShowPopup,o=e.onClosePopup,l=e.value,s=e.onChangeInput,a=(0,v.LP)();return(0,g.jsx)(bn.Z,{visible:r,title:function(){return(0,g.jsx)("p",{children:a({id:"Hẹn ngày rút hàng"})})},overlayStyle:{width:264},content:(0,g.jsx)(Ji,{value:l,onClosePopup:o,onChangeInput:s}),onVisibleChange:i,trigger:"click",placement:n?"left":"right",children:t})},Ki=h.ZP.div($t||($t=(0,a.Z)(["\n  background-color:#E6F7FF;\n  border-radius:2px ;\n  padding: 5px 12px;\n  margin-bottom: 12px ;\n"]))),Ji=function(e){var n=e.onClosePopup,t=e.value,r=e.onChangeInput,i=(0,v.LP)(),o=(0,c.useState)(t),l=(0,D.Z)(o,2),s=l[0],a=l[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Ki,{children:(0,g.jsx)(ji,{children:i({id:"Nhập thời gian rút hàng dự kiến để kho Tiki hỗ trợ bạn tốt hơn."})})}),(0,g.jsx)(ui,{style:{fontSize:"14px"},children:i({id:"Ngày đề xuất rút hàng"})}),(0,g.jsx)(p,{height:"6px"}),(0,g.jsx)(Mn,{style:{width:"100%"},placeholder:i({id:"Chọn ngày rút hàng"})}),(0,g.jsx)(p,{height:"6px"}),(0,g.jsx)(ui,{style:{fontSize:"14px"},children:i({id:"Giờ đề xuất"})}),(0,g.jsx)(p,{height:"6px"}),(0,g.jsxs)(I.Z,{placeholder:i({id:"Chọn buổi"}),style:{width:"100%"},onChange:r,children:[(0,g.jsx)(Oi,{value:"am",children:i({id:"Buổi sáng"})}),(0,g.jsx)(Oi,{value:"am",children:i({id:"Buổi chiều"})})]}),(0,g.jsx)(p,{height:"6px"}),(0,g.jsx)(ui,{style:{fontSize:"14px"},children:i({id:"Ghi chú"})}),(0,g.jsx)(p,{height:"6px"}),(0,g.jsx)(qi.Z.TextArea,{value:s,placeholder:i({id:"Nếu có yêu cầu gì đặc biệt vui lòng cho Tiki biết nhé!"}),style:{width:"100%"},onChange:function(e){var n,t=((null==e||null===(n=e.target)||void 0===n?void 0:n.value)||"").replaceAll(" ","");a(t)}}),(0,g.jsx)(p,{height:"16px"}),(0,g.jsxs)(Hi,{children:[(0,g.jsx)(j.Z,{onClick:n,children:i({id:"Huỷ"})}),(0,g.jsx)(p,{width:"8px"}),(0,g.jsx)(j.Z,{type:"primary",onClick:function(){r(s)},children:i({id:"Gửi"})})]})]})},Gi="REFERENCE_CODE",Xi="LIMIT_DAY",$i="NOTE",eo="WAREHOUSE",no=function(e){var n=(0,c.useState)(),t=(0,D.Z)(n,2),r=t[0],i=t[1],o=null==e?void 0:e.status,l=null==e?void 0:e.created_at,s=(0,c.useMemo)((function(){var e=ie()(Pe,[o,"value"],o),n=ie()(Pe,[o,"colorTag"],"processing"),t=o===Pe.draft.key,r=o===Pe.waiting_for_tnsl_confirmation.key,i=o===Pe.tnsl_preparing_stock.key,s=o===Pe.ready_to_return.key;return{color:n,status:e,isDraft:t,isWaitingConfirm:r,isWaitingPreparing:i,isSuccess:o===Pe.return_successfully.key,isLiquidated:o===Pe.liquidated.key,isCancel:o===Pe.canceled.key||o===Pe.failed.key,isReadyToReturn:s,isShow10day:Qn()().diff(Qn().unix(l),"days")<11}}),[o,l]);return(0,S.Z)((0,S.Z)({},s),{},{popupName:r,setPopupName:i,onClosePopup:function(){return i("")},onShowPopup:function(e){return i(e)}})},to=function(e){var n=e.record,t=no(n),r=t.color,i=t.status,o=t.isWaitingConfirm,l=t.isWaitingPreparing,s=t.isSuccess,a=t.isLiquidated,c=t.isCancel,d=t.isReadyToReturn,u=t.isShow10day,h=t.popupName,x=t.setPopupName,f=t.onClosePopup,m=t.onShowPopup,j=(0,v.LP)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Bn.Z,{color:r,children:i}),(o||l)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"6px"}),(0,g.jsxs)(ji,{style:{display:"block",alignItems:"center"},children:["- ",j({id:"Tạo lúc"}),":"," ",(null==n?void 0:n.created_at)&&Qn().unix(n.created_at).format("DD/MM/YYYY - HH:mm:ss")]})]}),d&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"6px"}),(0,g.jsxs)(ji,{style:{display:"block",alignItems:"center"},children:["- ",j({id:"Sẽ thanh lý nếu không nhận hàng trước"}),":"," 10/10 ",u&&(0,g.jsxs)(Bn.Z,{color:"error",children:[(0,g.jsx)(Vi.Z,{})," ",j({id:"Còn lại 10 ngày"})]})]}),(0,g.jsx)(ji,{style:{display:"block",alignItems:"center"},children:(0,g.jsx)("a",{onClick:function(){return m(Xi)},children:j({id:"Hẹn ngày lấy hàng"})})}),(0,g.jsx)(Ui,{onClosePopup:f,isShowPopup:h===Xi,setIsShowPopup:x,value:null==n?void 0:n.reference_code,onChangeInput:function(e){return function(){}}})]}),s&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"6px"}),(0,g.jsxs)(ji,{style:{display:"block",alignItems:"center"},children:["- ",j({id:"Hoàn thành lúc"}),":"," ",(null==n?void 0:n.finished_at)&&Qn().unix(n.finished_at).format("DD/MM/YYYY - HH:mm:ss")]})]}),c&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"6px"}),(0,g.jsxs)(ji,{style:{display:"block",alignItems:"center"},children:["- ",j({id:"Huỷ lúc"}),":"," ",(null==n?void 0:n.cancel_at)&&Qn().unix(n.cancel_at).format("DD/MM/YYYY - HH:mm:ss")]}),(0,g.jsxs)(ji,{style:{display:"block",alignItems:"center"},children:["- ",j({id:"Lý do"}),":"," Missing"]})]}),a&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"6px"}),(0,g.jsxs)(ji,{style:{display:"block",alignItems:"center"},children:["- ",j({id:"Thanh lý lúc"}),":"," ",(null==n?void 0:n.created_at)&&Qn().unix(n.created_at).format("DD/MM/YYYY - HH:mm:ss")]}),(0,g.jsxs)(ji,{style:{display:"block",alignItems:"center",color:"#FA8C16"},children:["- ",j({id:"Số lượng thanh lý"}),":"," 0"]})]})]})},ro=function(e){var n=e.record;return co(null==n?void 0:n.status)?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(ji,{children:"--"})}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(gi,{style:{display:"block"},children:"Nhà bán rút hàng"}),(0,g.jsx)(pi,{children:"Tạo bởi:"}),(0,g.jsx)(gi,{children:"missing"})]})},io=h.ZP.div(er||(er=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n"]))),oo=h.ZP.div(nr||(nr=(0,a.Z)(["\n  flex: 1;\n  border-bottom: 1px dashed #BFBFBF ;\n  margin-bottom: 4px;\n"]))),lo=function(e){var n=e.title,t=e.value,r=void 0===t?0:t,i=e.color;return(0,g.jsxs)(io,{children:[(0,g.jsxs)(gi,{color:i||"#8C8C8C",children:[n,":"]}),(0,g.jsx)(oo,{}),(0,g.jsx)(gi,{color:i||"#262626",children:r})]})},so=function(e){var n=e.record,t=(0,v.LP)(),r=co(null==n?void 0:n.status),i=(null==n?void 0:n.warehouse_code)||"",o=(null==n?void 0:n.expected_qty)||0,l=(null==n?void 0:n.actual_qty)||0,s=o-l||0;return r?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(ui,{style:{display:"block"},children:["Kho ",i.toUpperCase()]}),(0,g.jsx)(p,{height:"5px"}),(0,g.jsx)(lo,{title:t({id:"Yêu cầu rút"}),value:o})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(ui,{style:{display:"block"},children:["Kho ",i.toUpperCase()]}),(0,g.jsx)(p,{height:"5px"}),(0,g.jsx)(lo,{title:t({id:"Yêu cầu rút"}),value:o}),(0,g.jsx)(p,{height:"5px"}),(0,g.jsx)(lo,{title:t({id:"Có thể rút"}),value:o}),(0,g.jsx)(p,{height:"5px"}),(0,g.jsx)(lo,{title:t({id:"Thực nhận"}),value:l}),s&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"5px"}),(0,g.jsx)(lo,{color:"red",title:t({id:"Chênh lệch"}),value:s})]})]})},ao=function(e){var n=e.selected,t=e.onSelect,r=e.isAllSelected,i=e.isIndeterminate;return[{title:function(){return(0,g.jsx)(Zn.Z,{checked:r,indeterminate:i,onChange:function(){return t()}})},width:"3%",key:"checkbox",dataIndex:"checkbox",render:function(e,r){return(0,g.jsx)(Zn.Z,{checked:n.includes(r.id),onChange:function(){return t(null==r?void 0:r.id)},onClick:function(e){return e.stopPropagation()}})}},{title:function(){return(0,g.jsx)(gi,{fontWeight:"600",children:(0,v.wv)({id:"Mã phiếu rút"})})},width:"14%",dataIndex:"name",render:function(e,n){return(0,g.jsx)(Ri,{record:n})}},{title:function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(gi,{style:{display:"block"},fontWeight:"600",children:(0,v.wv)({id:"Loại BPOR/Lý do"})})})},width:"14%",key:"sl",render:function(e,n){return(0,g.jsx)(ro,{record:n})}},{title:function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(gi,{style:{display:"block"},fontWeight:"600",children:(0,v.wv)({id:"Trạng thái"})})})},width:"17%",key:"sl",render:function(e,n){return(0,g.jsx)(to,{record:n})}},{title:function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(gi,{style:{display:"block"},fontWeight:"600",children:[(0,v.wv)({id:"Kho hàng"}),"/"]}),(0,g.jsx)(gi,{style:{display:"block"},fontWeight:"600",children:(0,v.wv)({id:"Số lượng"})})]})},width:"16%",render:function(e,n){return(0,g.jsx)(so,{record:n})}},{title:function(){return(0,g.jsx)(gi,{fontWeight:"600",children:(0,v.wv)({id:"Ghi chú"})})},width:"14%",dataIndex:"name",render:function(e,n){return(0,g.jsx)(Wi,{record:n})}},{title:function(){return(0,g.jsx)(gi,{fontWeight:"600",children:(0,v.wv)({id:"Lần cập nhật cuối"})})},width:"9%",dataIndex:"name",render:function(e,n){return(0,g.jsx)(bi,{children:null!=n&&n.updated_at?Qn().unix(null==n?void 0:n.updated_at).format("DD/MM/YYYY - HH:mm:ss"):""})}},{title:function(){return(0,g.jsx)(gi,{fontWeight:"600",children:(0,v.wv)({id:"Thao tác"})})},width:"13%",dataIndex:"name",render:function(e,n){return(0,g.jsx)(Yi,{record:n})}}]},co=function(e){return Ie.map((function(e){return null==e?void 0:e.key})).includes(e)},uo=t(38670),ho=t.n(uo),po=h.ZP.div(tr||(tr=(0,a.Z)(["\n  background-color: #f5f5f5;\n  width: 100%;\n  padding: 24px;\n"]))),xo=h.ZP.div(rr||(rr=(0,a.Z)(["\n  background-color: white;\n  width: 100%;\n  padding: 24px;\n"]))),fo=h.ZP.span(ir||(ir=(0,a.Z)(["\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 24px;\n  color: #000000;\n"]))),vo=h.ZP.div(or||(or=(0,a.Z)(["\n  height: 24px;\n  margin: 0px 12px;\n  border: 1px solid #d9d9d9;\n"]))),go=h.ZP.div(lr||(lr=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),mo=(0,h.ZP)(Hr.Z)(sr||(sr=(0,a.Z)(["\n  &&& .ant-table {\n    .ant-table-container {\n      border-left: 1px solid #d9d9d9;\n      border-top: 1px solid #d9d9d9;\n    }\n    & .ant-table-thead > tr > th.ant-table-cell {\n      border-bottom: 1px solid #d9d9d9;\n      border-right: 1px solid #d9d9d9;\n      background-color: #f5f5f5;\n    }\n    & .ant-table-tbody > tr > td.ant-table-cell {\n      border-right: 1px solid #f0f0f0;\n      border-bottom: 1px solid #d9d9d9;\n    }\n    & .ant-table-tbody > tr > td.ant-table-cell:last-child {\n      border-right: 1px solid #d9d9d9;\n      border-bottom: 1px solid #d9d9d9;\n    }\n  }\n"]))),jo=function(){var e=function(){var e=(0,c.useContext)(Te),n=e.listing,t=e.listingInfo,r=e.query,i=e.setQuery,o=(0,c.useState)([]),l=(0,D.Z)(o,2),s=l[0],a=l[1],d=(0,c.useMemo)((function(){return s.length>0}),[s.length]),u=(0,c.useMemo)((function(){return 0!==s.length&&s.length<n.length}),[n.length,s.length]),h=function(){a(d&&!u?[]:n.map((function(e){return e.id})))};return{listing:n,listingInfo:t,onPageChange:function(e,n){i((0,S.Z)((0,S.Z)({},r),{},{page:e,limit:n}))},limit:null==r?void 0:r.limit,selected:s,onSelect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""!==e?a((function(n){return ho()(n,[e])})):h()},isIndeterminate:u,isAllSelected:d}}(),n=e.listing,t=e.listingInfo,r=e.onPageChange,i=e.limit,o=e.selected,l=e.onSelect,s=e.isAllSelected,a=e.isIndeterminate,d=(0,v.LP)();return(0,g.jsx)(po,{children:(0,g.jsxs)(xo,{children:[(0,g.jsxs)(go,{children:[(0,g.jsxs)(fo,{children:[d({id:"Phiếu rút hàng"}),": ",null==t?void 0:t.total]}),(0,g.jsx)(vo,{}),(0,g.jsxs)(j.Z,{children:[(0,g.jsx)(Ur.Z,{}),d({id:"Xuất danh sách BPOR"})]})]}),(0,g.jsx)(p,{height:"24px"}),(0,g.jsx)(mo,{dataSource:n,columns:ao({selected:o,onSelect:l,isAllSelected:s,isIndeterminate:a}),rowKey:"id",scroll:{x:"max-content"},bordered:!0,pagination:{pageSize:i,current:(null==t?void 0:t.current_page)||1,total:null==t?void 0:t.total,showTotal:function(e,n){return"".concat(n[0],"-").concat(n[1],"(").concat(d({id:"Tổng cộng"}),": ").concat(e,")")},onChange:function(e,n){return r(e,n)}}})]})})},Zo=(0,c.createContext)(null),bo=function(e){var n=e.children,t=yo();return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(Zo.Provider,{value:t,children:n})})},yo=function(){var e=(0,c.useState)(!1),n=(0,D.Z)(e,2),t=n[0],r=n[1],i=(0,c.useState)(1),o=(0,D.Z)(i,2),l=o[0],s=o[1],a=(0,c.useState)({}),d=(0,D.Z)(a,2),u=d[0],h=d[1],p=(0,c.useState)([]),x=(0,D.Z)(p,2),f=x[0],v=x[1],g=(0,c.useState)([]),m=(0,D.Z)(g,2),j=m[0],Z=m[1],b=(0,c.useState)(),y=(0,D.Z)(b,2),w=y[0],k=y[1],C=(0,c.useState)([]),P=(0,D.Z)(C,2),I=P[0],_=P[1],A=(0,c.useState)(),E=(0,D.Z)(A,2),F=E[0],T=E[1],L=(0,c.useContext)(Te),M=L.createModalData,R=L.setCreateModalData,Q=L.query,z=L.setQuery;return{isLoading:t,setIsLoading:r,currentStep:l,setCurrentStep:s,productListData:u,setProductListData:h,listSelected:f,setListSelected:v,warehouseSelected:j,setWarehouseSelected:Z,numberWithdrawalSelected:w,setNumberWithdrawalSelected:k,isVisible:null==M?void 0:M.isVisible,onCloseCreateModal:function(){R({isVisible:!1}),z((0,S.Z)((0,S.Z)({},Q),{},{selectedId:null}))},sellerIdSelected:null==Q?void 0:Q.sellerId,createData:I,setCreateData:_,finishModalData:F,setFinishModalData:T}},wo=t(9274),ko=t(99649),Co=function(e){var n=e.total,t=void 0===n?0:n,r=(0,v.LP)();return(0,g.jsx)(x.Z,{style:{display:"flex",alignItems:"center",flexDirection:"row"},gutter:12,children:(0,g.jsxs)(d.Z,{style:{marginRight:"12px"},children:[(0,g.jsx)(ko.Z,{style:{fontSize:18,marginRight:10,color:"#52C41A"}}),(0,g.jsx)(si,{size:"20px",children:r({id:"Có n phiếu gửi hàng mới được tạo thành công"},{value:t})})]})})},So=t(45522),Po=t.n(So),Io=[],_o=function(e,n){try{var t=(0,R.Z)(Io),r=kn()(Io,(function(n){return(null==n?void 0:n.id)===e}));if(-1===r)return t.push({id:e,data:n}),void(Io=t);var i=t[r],o=(0,S.Z)((0,S.Z)({},i),{},{data:n});return t[r]=o,void(Io=t)}catch(e){}},Ao=function(){return Io},Do=h.ZP.div(ar||(ar=(0,a.Z)(["\n    display: flex;\n    flex-direction: row;\n    background-color: white;\n    align-items: center;\n    justify-content:flex-end ;\n"]))),Eo=function(e){var n=e.action,t=(0,v.LP)();return(0,g.jsx)(Do,{children:(0,g.jsx)(j.Z,{onClick:n,type:"primary",children:t({id:"Lưu & Đóng"})})})},Fo=function(e){var n=e.code,t=e.note,r=e.onChangeCode,i=e.onChangeNote,o=(0,v.LP)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(x.Z,{gutter:[12,12],style:{marginTop:12,padding:0},children:(0,g.jsxs)(d.Z,{span:24,style:{marginRight:"12px",padding:0},children:[(0,g.jsx)(qi.Z,{style:{width:"100%"},value:n,onChange:r,placeholder:o({id:"Nhập mã phiếu rút Nhà bán (không bắt buộc)"})}),(0,g.jsx)(p,{height:"7px"}),(0,g.jsx)(qi.Z,{style:{width:"100%"},value:t,onChange:i,placeholder:o({id:"Nhập ghi chú (không bắt buộc)"})})]})})})},To=h.ZP.div(cr||(cr=(0,a.Z)(["\n  flex-direction: row;\n  align-items: center;\n  display: flex;\n"]))),Lo=h.ZP.span(dr||(dr=(0,a.Z)(["\n  color: #262626;\n  font-size: 16px;\n  font-weight: 700;\n  margin-right: 6px;\n"]))),Mo=function(e){var n=e.item,t=void 0===n?{}:n,r=(0,c.useState)(""),i=(0,D.Z)(r,2),o=i[0],l=i[1],s=(0,c.useState)(""),a=(0,D.Z)(s,2),d=a[0],u=a[1],h=null==t?void 0:t.id,x=null!=t&&t.created_at?Qn().unix(null==t?void 0:t.created_at).format("DD/MM/YYYY - HH:mm:ss"):"";return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"12px"}),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(To,{style:{borderTop:"1px solid #D9D9D9",paddingTop:"12px"},children:[(0,g.jsxs)(Lo,{children:["BPOR nháp - ",x]})," ",(0,g.jsx)(Bn.Z,{children:"Trạng thái: Nháp"})]})}),(0,g.jsx)(Fo,{note:d,code:o,onChangeCode:function(e){var n,t=(null==e||null===(n=e.target)||void 0===n?void 0:n.value).replaceAll(" ","");_o(h,{code:t,note:d}),l(t)},onChangeNote:function(e){var n,t=null==e||null===(n=e.target)||void 0===n?void 0:n.value;_o(h,{code:o,note:t}),u(t)},item:t})]})},Ro=t.p+"2e8b6d821bae343f81f6.png",Qo=h.ZP.div(ur||(ur=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),zo=h.ZP.div(hr||(hr=(0,a.Z)(["\n  padding: 20px 16px;\n  display: flex;\n  flex-direction: column;\n  background-color: #e6f7ff;\n"]))),Bo=h.ZP.span(pr||(pr=(0,a.Z)(["\n  font-size: 14px;\n  color: #262626;\n  margin-bottom: 12px;\n"]))),No=function(e){var n=e.data,t=void 0===n?[]:n,r=e.isDraft,i=(0,v.LP)();return r?(0,g.jsxs)(Qo,{children:[(0,g.jsx)(Bo,{children:i({id:"bpor.finish_modal_title_draft"})}),(0,g.jsx)(zo,{children:t.map((function(e,n){return(0,g.jsx)(Mo,{index:n,item:e},n)}))})]}):(0,g.jsxs)(Qo,{style:{alignItems:"center",justifyContent:"center"},children:[(0,g.jsx)("img",{style:{height:186,width:186,marginBottom:10},alt:"fininshModal",src:Ro}),(0,g.jsx)(pi,{children:"Tiki đã nhận được yêu cầu, phiếu rút hàng đang được tạo, sẽ thông báo với Nhà bán sau."})]})},Yo=h.ZP.div(xr||(xr=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),Wo=function(){var e=function(){var e,n=(0,c.useContext)(Zo),t=n.finishModalData,r=n.setFinishModalData,i=n.setIsLoading,o=n.onCloseCreateModal,l=n.setQuery,s=(0,v.LP)(),a=null==t?void 0:t.isDraft,d=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n){var t,r;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ao(),e.prev=1,a){e.next=4;break}return e.abrupt("return",u());case 4:r=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n,t){var r,i,o,l;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r={reference_code:null==t?void 0:t.referenceCode,note:null==t?void 0:t.note},i=(0,ne.Hd)(r),!Po()(i)&&!Po()(t)){e.next=5;break}return e.abrupt("return",{});case 5:return e.next=7,ve(r,n);case 7:if(!("error"in(o=e.sent))){e.next=10;break}throw new Error(null==o||null===(l=o.error)||void 0===l?void 0:l.message);case 10:return e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n,t){return e.apply(this,arguments)}}(),Promise.all(t.map(function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n){var t,i,o,l,s;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null==n?void 0:n.id,l={referenceCode:null==n||null===(t=n.data)||void 0===t?void 0:t.code,note:null==n||null===(i=n.data)||void 0===i?void 0:i.note},e.next=4,r(o,l);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())).then((function(e){var n;e.forEach((function(e){var t=null==e?void 0:e.reference_code;t&&(n=n?"".concat(n,",").concat(t):t)}));var t={reference_code:n,tab:le};l((0,S.Z)({},t)),i(!1),ye(s({id:"Lưu nháp thành công"})),u()})).catch((function(e){return i(!1),be(),u(),e})),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),u=function(){r({isVisible:!1}),o(),Io=[]};return{isShowModalFinish:null==t?void 0:t.isVisible,data:null==t?void 0:t.data,isDraft:a,total:null==t||null===(e=t.data)||void 0===e?void 0:e.length,onSaveAndClose:d,onClose:u}}(),n=e.isShowModalFinish,t=e.data,r=e.total,i=e.onSaveAndClose,o=e.isDraft,l=e.onClose;return(0,g.jsx)(wo.Z,{title:(0,g.jsx)(Co,{total:r}),visible:n,footer:(0,g.jsx)(Eo,{action:i}),onCancel:l,width:670,bodyStyle:{backgroundColor:"white"},style:{minHeight:700},children:(0,g.jsx)(Yo,{children:(0,g.jsx)(No,{data:t,isDraft:o})})})},Vo=t(4942),qo={},Oo=function(e,n,t,r,i){try{var o={value:t,weight:r},l=ie()(qo,[e],{});if(0===t)delete l[n],qo=(0,S.Z)((0,S.Z)({},qo),(0,Vo.Z)({},e,l));else{var s=(0,S.Z)((0,S.Z)({},l),(0,Vo.Z)({},n,o));qo=(0,S.Z)((0,S.Z)({},qo),(0,Vo.Z)({},e,s))}i(qo)}catch(e){}},Ho=function(){qo={}},Uo=function(){return qo},Ko=function(e,n){try{for(var t=0,r=Object.entries(qo);t<r.length;t++){var i=(0,D.Z)(r[t],2);i[0],delete i[1][e]}n(qo)}catch(e){}},Jo=h.ZP.div(fr||(fr=(0,a.Z)(["\n  display: flex;\n"]))),Go=function(){return(0,g.jsxs)(Jo,{children:[(0,g.jsx)("div",{children:(0,g.jsx)("span",{style:{marginRight:7,fontSize:7},children:"●"})}),(0,g.jsxs)("span",{children:["Các sản phẩm ",(0,g.jsx)("b",{children:"có số lượng bằng 0"})," sẽ ",(0,g.jsx)("span",{style:{color:"orange"},children:"tự động bị xóa"})," khỏi danh sách rút hàng của kho."]})]})},Xo=h.ZP.div(vr||(vr=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  height: 50px;\n  justify-content: center;\n  margin-right: 24px;\n"]))),$o=h.ZP.div(gr||(gr=(0,a.Z)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    background-color: white;\n"]))),el=h.ZP.div(mr||(mr=(0,a.Z)(["\n  width: 1px;\n  margin: 0 16px;\n  background-color: #D9D9D9;\n  height: 32px;\n\n"]))),nl=function(){var e=function(){var e=(0,c.useContext)(Zo),n=e.currentStep,t=e.setCurrentStep,r=e.setIsLoading,i=e.isLoading,o=e.onCloseCreateModal,l=e.listSelected,s=void 0===l?[]:l,a=e.setWarehouseSelected,d=e.numberWithdrawalSelected,u=e.sellerIdSelected,h=e.createData,p=e.setCreateData,x=e.setFinishModalData,f=(0,v.LP)(),g=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(){var t,i,o,l,s,a=arguments;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]&&a[0],i=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n){var t,r;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je(n);case 3:if(!("error"in(t=e.sent))){e.next=6;break}throw new Error(null==t||null===(r=t.error)||void 0===r?void 0:r.message);case 6:return e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),be(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),r(!0),o=t&&2===n?m():h,l=o.map((function(e){var n={seller_id:u,pickup_method:"supplier",warehouse_code:null==e?void 0:e.code,items:null==e?void 0:e.items,pickup_warehouse_code:null==e?void 0:e.tikiReturnWarehouse};return t||(n.status="waiting_for_checking"),n})),e.next=7,Promise.all(l.map(function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n){var t;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 7:s=e.sent,x({data:s,isVisible:!0,isDraft:t});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=[],n=0;for(var t in d){var r=ie()(d,[t]),i=0,o=0,l=[];for(var s in r)if("tikiReturnWarehouse"!==s){var a=ie()(r,[s]);i=ie()(a,["value"],0)+i,o+=1;var c={product_sku:s,expected_qty:ie()(a,["value"],0)};l.push(c)}var u={code:t,total:i,countProduct:o,index:n,items:l};e.push(u),n+=1}return e},j=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(){return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,2===n&&wo.Z.confirm({title:f({id:"Thông báo"}),content:Go(),cancelText:f({id:"Kiểm tra"}),closable:!0,okText:f({id:"Tiếp tục"}),onOk:function(){return g(!0)}}),3!==n){e.next=7;break}return e.next=7,g(!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),be();case 12:return e.prev=12,r(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(){var o;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,1===n&&(a([]),t(2)),2===n&&(o=function(){var e=m();p(e),t(3)},wo.Z.confirm({title:f({id:"Thông báo"}),content:Go(),cancelText:f({id:"Kiểm tra"}),closable:!0,okText:f({id:"Tiếp tục"}),onOk:o})),3!==n){e.next=8;break}return e.next=8,g();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),be();case 13:return e.prev=13,r(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return{checkIsCanNext:function(){try{if(1===n)return s.length>0&&s.length<=1e3;if(2===n){for(var e=!1,t=0,r=Object.entries(d);t<r.length;t++){var i=(0,D.Z)(r[t],2),o=(i[0],i[1]);Po()(o)||(e=!0)}return e}if(3===n){var l=!0;return h.forEach((function(e){null!=e&&e.tikiReturnWarehouse||(l=!1)})),l}return!1}catch(e){return!1}},onNext:Z,checkErrorText:function(e){if(1===n){var t=!(s.length>0)&&f({id:"bpor.please_select_product"});return s.length>1e3&&(t=f({id:"Tổng sản phẩm không được lớn hơn 1000"})),t}return 2===n&&!e&&f({id:"Vui lòng điền số lượng rút kho dự kiến"})},onCloseModal:function(){o(),Ho()},currentStep:n,isLoading:i,onBack:function(){i||t(n-1)},checkIsCanBack:function(){return 1!==n},isShowDraft:2===n||3===n,onDraft:j}}(),n=e.checkIsCanNext,t=e.onNext,r=e.checkErrorText,i=e.onCloseModal,o=e.currentStep,l=e.isLoading,s=e.checkIsCanBack,a=e.onBack,d=e.onDraft,u=e.isShowDraft,h=n(),x=s(),f=r(h);return(0,g.jsxs)(Xo,{children:[f&&(0,g.jsx)(gi,{color:"red",children:f}),(0,g.jsxs)($o,{children:[1!==o&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j.Z,{disabled:!x||l,onClick:a,children:(0,v.wv)({id:"bpor.back"})}),(0,g.jsx)(el,{})]}),(0,g.jsx)(j.Z,{onClick:i,children:(0,v.wv)({id:"bpor.cancel"})}),(0,g.jsx)(p,{width:"8px"}),u&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j.Z,{disabled:!h||l,onClick:d,style:{borderColor:h?"#40a9ff":"",color:h?"#40a9ff":""},children:(0,v.wv)({id:"Lưu nháp"})}),(0,g.jsx)(p,{width:"8px"})]}),(0,g.jsx)(j.Z,{onClick:t,disabled:!h||l,type:"primary",loading:l,children:(0,v.wv)({id:3===o?"Hoàn tất":"bpor.continue"})})]})]})},tl=h.ZP.div(jr||(jr=(0,a.Z)(["\n    display: flex;\n    flex-direction: row;\n    padding: 24px 24px 24px 24px;\n    justify-content: center;\n    align-items: center;\n"]))),rl=[{id:1,title:(0,v.wv)({id:"bpor.choose_product"})},{id:2,title:(0,v.wv)({id:"bpor.filter_expected_number"})},{id:3,title:(0,v.wv)({id:"bpor.confirm_information"})}],il=function(e){var n=e.current,t=e.onChangeStep;return(0,g.jsx)(tl,{children:rl.map((function(e,r){return(0,g.jsxs)(ol,{children:[0!==r&&(0,g.jsx)(ll,{isFinish:n>r}),(0,g.jsx)(hl,{step:e,isFinish:n>r+1,isActive:n===e.id,current:n,onChangeStep:t},e.id)]},e.id)}))})},ol=h.ZP.div(Zr||(Zr=(0,a.Z)(["\n    flex-shrink: 0;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),ll=h.ZP.div(br||(br=(0,a.Z)(["\n    width: 100px;\n    border: "," ;\n    margin: 0px 20px;\n"])),(function(e){return e.isFinish?"1px solid #1890FF":"1px solid #E8E8E8"})),sl=h.ZP.div(yr||(yr=(0,a.Z)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    cursor: pointer;\n    margin-left: 8px;\n"]))),al=h.ZP.div(wr||(wr=(0,a.Z)(["\n    height: 32px;\n    width: 32px;\n    border-radius: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    background-color: ",";\n    border: ",";\n"])),(function(e){return null!=e&&e.isActive?"#1890FF":"white"}),(function(e){return!(null!=e&&e.isActive)&&"1px solid #BFBFBF"})),cl=h.ZP.div(kr||(kr=(0,a.Z)(["\nheight: 30px;\nwidth: 30px;\nborder-radius: 15px;\ndisplay: flex;\nflex-direction: row;\njustify-content: center;\nalign-items: center;\nbackground-color: white;\nborder: 1px solid #1890FF;\n"]))),dl=(0,h.ZP)(gi)(Cr||(Cr=(0,a.Z)(["\n    font-size: 16px;\n    font-weight: ",";\n    color: ",";\n"])),(function(e){return null!=e&&e.isActive?"600":"500"}),(function(e){return null!=e&&e.isActive?"white":"#BFBFBF"})),ul=(0,h.ZP)(gi)(Sr||(Sr=(0,a.Z)(["\nfont-size: 16px;\nfont-weight: ",";\ncolor: ",";\n"])),(function(e){return e.isActive?"600":"500"}),(function(e){return e.isActive?"#595959":"#8C8C8C"})),hl=function(e){var n=e.step,t=void 0===n?{}:n,r=e.isActive,i=e.onChangeStep,o=e.isFinish,l=e.current;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(sl,{onClick:function(){return(null==t?void 0:t.id)<=l&&i(t.id)},children:[o?(0,g.jsx)(cl,{children:(0,g.jsx)(Et.Z,{style:{color:"#1890FF"}})}):(0,g.jsx)(al,{isActive:r,children:(0,g.jsx)(dl,{isActive:r,children:t.id})}),(0,g.jsx)(p,{width:"12px"}),(0,g.jsx)(ul,{isActive:r||o,children:t.title})]})})},pl=t(49959),xl=(0,h.ZP)(x.Z)(Pr||(Pr=(0,a.Z)(["\n  background-color: #E6F7FF;\n  border: 1px solid #91D5FF;\n  padding: 16px 24px;\n  border-radius: 2px;\n\n"]))),fl=(0,h.ZP)(pl.Z)(Ir||(Ir=(0,a.Z)(["\n  color: #1890FF;\n  font-size: 21px;\n"]))),vl=function(){return(0,g.jsxs)(xl,{gutter:15,style:{marginLeft:0,marginRight:0},children:[(0,g.jsx)(d.Z,{children:(0,g.jsx)(fl,{})}),(0,g.jsxs)(d.Z,{children:[(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,g.jsx)(ji,{size:"6px",children:"●"})," ",(0,g.jsx)(bi,{children:(0,g.jsx)(v.qt,{id:"bpor.create.title_create_step1.1"})})]}),(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,g.jsx)(ji,{size:"6px",children:"●"})," ",(0,g.jsx)(bi,{children:(0,g.jsx)(v.qt,{id:"bpor.create.title_create_step1.2"})})]})]})]})},gl=t(52124),ml=t(66736),jl=t(47515),Zl=gl.Z.Dragger,bl=h.ZP.div(_r||(_r=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-top: 12px;\n"]))),yl=function(e){var n=e.onRemoveFile,t=e.onUploadFile,r=e.fileName,i=e.onDownloadSample,o=e.errorUploadMessage,l=(0,v.LP)(),s={accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:"file",multiple:!1,action:function(e){return(0,A.Z)((0,_.Z)().mark((function n(){return(0,_.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(e);case 1:case"end":return n.stop()}}),n)})))()},beforeUpload:function(e){var n=(null==e?void 0:e.size)||0;return!(parseInt(n,10)>1024e4)},showUploadList:!1};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(gi,{children:[l({id:"Tải tập tin mẫu"})," ",(0,g.jsx)(wi,{onClick:i,children:l({id:"tại đây"})})]}),(0,g.jsx)(p,{height:"16px"}),(0,g.jsx)("div",{style:{height:200,width:"100%"},children:(0,g.jsxs)(Zl,(0,S.Z)((0,S.Z)({},s),{},{children:[(0,g.jsx)("p",{className:"ant-upload-drag-icon",children:(0,g.jsx)(ml.Z,{})}),(0,g.jsx)(gi,{style:{display:"block"},children:l({id:"Nhấn hoặc kéo thả tập tin để tải lên"})}),(0,g.jsx)(pi,{style:{display:"block"},children:l({id:"Chỉ chấp nhận tập tin có định dạng .xls và .xlsx tối đa 10MB"})}),(0,g.jsx)(pi,{children:l({id:"Hỗ trợ tối đa 1000 SKU mỗi tập tin"})})]}))}),r&&(0,g.jsxs)(bl,{children:[(0,g.jsx)(bi,{color:"blue",children:r}),(0,g.jsx)(wi,{color:"red",onClick:n,size:"15px",children:(0,g.jsx)(jl.Z,{})})]}),o&&(0,g.jsx)(bl,{children:(0,g.jsx)(bi,{color:"red",children:o})})]})},wl=t(68537),kl=t.n(wl),Cl=h.ZP.div(Ar||(Ar=(0,a.Z)(["\n    display: flex;\n    flex-direction: row;\n    padding: 0px 24px 24px 24px;\n    justify-content: center;\n    align-items: center;\n"]))),Sl=function(e){var n=e.current,t=e.onChangeStep,r=(0,v.LP)(),i=[{id:1,title:r({id:"Tải dữ liệu"})},{id:2,title:r({id:"Kiểm tra dữ liệu"})}];return(0,g.jsxs)(Cl,{children:[(0,g.jsx)(Fl,{isFinish:1===i[0].id&&2===n,step:i[0],isActive:n===i[0].id,current:n,onChangeStep:t}),(0,g.jsx)(Pl,{isFinish:1===i[0].id&&2===n}),(0,g.jsx)(Fl,{step:i[1],current:n,isActive:n===i[1].id,onChangeStep:t})]})},Pl=h.ZP.div(Dr||(Dr=(0,a.Z)(["\n    width: 209px;\n    border: "," ;\n    margin: 0px 20px;\n"])),(function(e){return e.isFinish?"1px solid #1890FF":"1px solid #E8E8E8"})),Il=h.ZP.div(Er||(Er=(0,a.Z)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    cursor: pointer;\n"]))),_l=h.ZP.div(Fr||(Fr=(0,a.Z)(["\n    height: 32px;\n    width: 32px;\n    border-radius: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    background-color: ",";\n    border: ",";\n"])),(function(e){return e.isActive?"#1890FF":"white"}),(function(e){return!e.isActive&&"1px solid #BFBFBF"})),Al=h.ZP.div(Tr||(Tr=(0,a.Z)(["\nheight: 32px;\nwidth: 32px;\nborder-radius: 16px;\ndisplay: flex;\nflex-direction: row;\njustify-content: center;\nalign-items: center;\nbackground-color: white;\nborder: 1px solid #1890FF;\n"]))),Dl=(0,h.ZP)(gi)(Lr||(Lr=(0,a.Z)(["\n    font-size: 16px;\n    font-weight: ",";\n    color: ",";\n"])),(function(e){return e.isActive?"600":"500"}),(function(e){return e.isActive?"white":"#BFBFBF"})),El=(0,h.ZP)(gi)(Mr||(Mr=(0,a.Z)(["\nfont-size: 16px;\nfont-weight: ",";\ncolor: ",";\n"])),(function(e){return e.isActive?"600":"500"}),(function(e){return e.isActive?"#595959":"#8C8C8C"})),Fl=function(e){var n=e.step,t=void 0===n?{}:n,r=e.isActive,i=e.onChangeStep,o=e.isFinish,l=e.current;return(0,g.jsxs)(Il,{onClick:function(){return(null==t?void 0:t.id)<=l&&i(t.id)},children:[o?(0,g.jsx)(Al,{children:(0,g.jsx)(Et.Z,{style:{color:"#1890FF"}})}):(0,g.jsx)(_l,{isActive:r,children:(0,g.jsx)(Dl,{isActive:r,children:t.id})}),(0,g.jsx)(p,{width:"12px"}),(0,g.jsx)(El,{isActive:r||o,children:t.title})]})},Tl=(0,h.ZP)(x.Z)(Rr||(Rr=(0,a.Z)(["\n  background-color: #E6F7FF;\n  border: 1px solid #91D5FF;\n  padding: 16px 24px;\n  border-radius: 2px;\n\n"]))),Ll=(0,h.ZP)(pl.Z)(Qr||(Qr=(0,a.Z)(["\n  color: #1890FF;\n  font-size: 21px;\n"]))),Ml=function(){return(0,g.jsxs)(Tl,{gutter:15,style:{marginLeft:0,marginRight:0},children:[(0,g.jsx)(d.Z,{children:(0,g.jsx)(Ll,{})}),(0,g.jsxs)(d.Z,{children:[(0,g.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,g.jsxs)(bi,{children:["  ",(0,g.jsx)(ji,{size:"6px",children:"●"})," ",(0,g.jsx)(v.qt,{id:"bpor.create.title_create_import_step1"})]})}),(0,g.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,g.jsxs)(bi,{children:[(0,g.jsx)(ji,{size:"6px",children:"●"})," ",(0,g.jsx)(v.qt,{id:"bpor.create.title_create_import_step2"})]})})]})]})},Rl=h.ZP.span(zr||(zr=(0,a.Z)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp:  ","; /* number of lines to show */\n  -webkit-box-orient: vertical;\n\n  &:hover {\n    color: var(--info);\n  }\n"])),(function(e){return e.numberOfLine})),Ql=function(e){var n=e.children,t=e.numberOfLine,r=void 0===t?2:t,i=e.fullText,o=e.style,l=void 0===o?{}:o;return(0,g.jsx)(Ti.Z,{placement:"topLeft",title:i,trigger:"hover",children:(0,g.jsx)(Rl,{style:l,numberOfLine:r,children:n})})},zl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return[{title:"#",dataIndex:"name",width:50,render:function(t,r,i){return(0,g.jsx)("a",{children:i+1+(e-1)*n})}},{title:(0,v.wv)({id:"ID"}),dataIndex:"name",width:"15%",render:function(e,n){return(0,g.jsx)("p",{children:null==n?void 0:n.id})}},{title:(0,v.wv)({id:"SKU"}),dataIndex:"money",width:"18%",render:function(e,n){return(0,g.jsx)("p",{children:null==n?void 0:n.sku})}},{title:(0,v.wv)({id:"Tên sản phẩm"}),dataIndex:"address",width:"25%",render:function(e,n){return(0,g.jsx)(Ql,{fullText:null==n?void 0:n.name,children:(0,g.jsx)("p",{children:null==n?void 0:n.name})})}},{title:(0,v.wv)({id:"SL dự kiến"}),dataIndex:"address",render:function(e,n){return(0,g.jsx)("p",{children:null==n?void 0:n.expected_qty})},width:90},{title:(0,v.wv)({id:"Trạng thái"}),dataIndex:"address",render:function(e,n){var t=ie()(n,["errors",0,"row"],""),r=ie()(n,["errors",0,"message"]),i=r?"".concat((0,v.wv)({id:"Dòng"}),": ").concat(t,": ").concat(r):"";return i?(0,g.jsx)(Ql,{fullText:i,children:(0,g.jsx)(bi,{color:"red",children:i})}):null}}]},Bl=function(e){var n=e.products,t=void 0===n?[]:n,r=(0,c.useState)(10),i=(0,D.Z)(r,2),o=i[0],l=i[1],s=(0,c.useState)(1),a=(0,D.Z)(s,2),d=a[0],u=a[1],h=(0,v.LP)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Ml,{}),(0,g.jsx)(p,{height:"12px"}),(0,g.jsx)(Hr.Z,{columns:zl(d,o),dataSource:t,bordered:!0,pagination:{pageSize:o,total:t.length,onChange:function(e,n){u(e),l(n)},showTotal:function(e,n){return"".concat(n[0],"-").concat(n[1],"(").concat(h({id:"Tổng cộng"}),": ").concat(e,")")}},rowKey:"id"})]})},Nl=h.ZP.div(Br||(Br=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n"]))),Yl=function(e){var n=e.onBack,t=e.onNext,r=e.onSave,i=e.isCanFinish,o=e.isCanNext,l=e.onCancel,s=e.currentStep,a=(0,v.LP)();return(0,g.jsxs)(Nl,{children:[(0,g.jsx)(j.Z,{onClick:l,children:a({id:"Huỷ bỏ"})}),2===s&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{width:"8px"}),(0,g.jsx)(j.Z,{onClick:n,children:a({id:"Quay lại "})})]}),(0,g.jsx)(p,{width:"8px"}),1===s?(0,g.jsx)(j.Z,{onClick:t,type:"primary",disabled:!o,children:a({id:"Tiếp tục"})}):(0,g.jsx)(j.Z,{disabled:!i,onClick:r,type:"primary",children:a({id:"Xác nhận"})})]})},Wl=function(e){var n=e.isVisible,t=e.onClose,r=e.onImportCB,i=e.sellerId,o=(0,v.LP)(),l=function(e,n){var t,r=(0,v.LP)(),i=(0,c.useState)(1),o=(0,D.Z)(i,2),l=o[0],s=o[1],a=(0,c.useState)([]),d=(0,D.Z)(a,2),u=d[0],h=d[1],p=(0,c.useState)(""),x=(0,D.Z)(p,2),f=x[0],g=x[1],m=(0,c.useState)(!1),j=(0,D.Z)(m,2),Z=j[0],b=j[1],y=(0,c.useState)(""),w=(0,D.Z)(y,2),k=w[0],C=w[1],S=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(t){var i,o,l;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),C(""),(i=new FormData).append("seller_id",n),i.append("file",t),e.next=8,a=i,O("".concat("https://api-sellercenter.tala.xyz","/").concat("seller/v2/inventory_requisitions/extractions"),{body:a},{fullpath:!0,hasResponseServerMessage:!0});case 8:if(!("error"in(o=e.sent))){e.next=11;break}throw new Error(null==o||null===(l=o.error)||void 0===l?void 0:l.message);case 11:h((null==o?void 0:o.data)||[]),g(null==t?void 0:t.name),s(2),b(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),C((null===e.t0||void 0===e.t0?void 0:e.t0.message)||r({id:"Có lỗi xảy ra"})),b(!1);case 21:case"end":return e.stop()}var a}),e,null,[[0,17]])})));return function(n){return e.apply(this,arguments)}}(),P=!!f,I=(t=!0,kl()(u,(function(e){return!ie()(e,["errors",0,"message"],"")||(t=!1,!1)})),t);return{currentStep:l,setCurrentStep:s,products:u,fileName:f,isLoading:Z,onUploadFile:S,onRemoveFile:function(){g(""),h([])},onBack:function(){s(1)},onNext:function(){s(2)},isCanNext:P,onSave:function(){e(u)},onDownloadSample:function(){(0,ne.kB)("https://salt.tikicdn.com/ts/tmp/71/89/8d/588b44a124656977d94860131dc3dfaa.xlsx")},errorUploadMessage:k,isCanFinish:I}}(r,i),s=l.currentStep,a=l.setCurrentStep,d=l.products,h=l.fileName,x=l.isLoading,f=l.onUploadFile,m=l.onRemoveFile,j=l.onBack,Z=l.onNext,b=l.isCanNext,y=l.onSave,w=l.onDownloadSample,k=l.errorUploadMessage,C=l.isCanFinish,S=(0,c.useCallback)((function(){switch(s){case 1:return(0,g.jsx)(yl,{onDownloadSample:w,fileName:h,onUploadFile:f,onRemoveFile:m,errorUploadMessage:k});case 2:return(0,g.jsx)(Bl,{products:d});default:return""}}),[s,k,h,w,m,f,d]);return(0,g.jsx)(wo.Z,{title:o({id:"Nhập sản phẩm từ file"}),visible:n,onCancel:t,footer:(0,g.jsx)(Yl,{isCanFinish:C,onSave:y,onBack:j,onNext:Z,onCancel:t,isCanNext:b,currentStep:s}),width:"842px",bodyStyle:{overflowY:"scroll",maxHeight:"calc(100vh - 150px)"},style:{maxHeight:"95vh",top:20},children:(0,g.jsxs)(u.Z,{tip:"Loading...",spinning:x,children:[(0,g.jsx)(Sl,{current:s,onChangeStep:a}),S(),(0,g.jsx)(p,{height:"16px"})]})})},Vl=t(11829),ql=t(22231),Ol=function(e){switch(e){case"name":default:return"bpor.enter_name_product";case"sku":return"Nhập SKU sản phẩm";case"code":return"Nhập mã sản phẩm"}},Hl=t(12699),Ul=t.n(Hl),Kl=t(59649),Jl=t(22741),Gl=t(54793),Xl=t.n(Gl),$l=t(56783),es=t.n($l),ns=t(90880),ts=t.n(ns),rs=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n){var t;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,he.stringify)((0,ne.Hd)(n)),e.abrupt("return",q("".concat("https://api-acp.tala.xyz/api/tiki_api","?path=catalog/categories&").concat(t),{},{hasResponseServerMessage:!0,fullpath:!0}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),is={limit:1e3,include:"parents",lang:"vi",parent_id:"2",is_active:1},os=function(e){var n=e.name,t=e.id,r=e.is_leaf;return{value:t,label:"".concat(t," - ").concat(n),isLeaf:r}},ls=["cascaderRef","className"],ss=(0,h.iv)(Nr||(Nr=(0,a.Z)(["\n  overflow-x: scroll;\n\n  ::-webkit-scrollbar {\n    -webkit-appearance: none;\n    height: 6px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    border-radius: 4px;\n    background-color: rgba(0, 0, 0, 0.5);\n    -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, 0.5);\n  }\n"]))),as={small:"24px",default:"32px",large:"40px"},cs={small:"8px",default:"10px",large:"14px"},ds="category-cascader-overlay",us=(0,h.ZP)(Kl.Z)(Yr||(Yr=(0,a.Z)([""]))),hs=h.ZP.div(Wr||(Wr=(0,a.Z)(["\n  position: relative;\n  height: ",";\n\n  /* "," {\n    z-index: 100;\n    position: absolute;\n    top: ",";\n    right: 11px;\n    font-size: 12px;\n    line-height: 14px;\n    color: rgba(0, 0, 0, 0.25);\n  } */\n"])),(function(e){var n=e.size;return as[n]}),us,(function(e){var n=e.size;return cs[n]})),ps=(0,h.ZP)((function(e){var n=e.cascaderRef,t=e.className,r=(0,P.Z)(e,ls);return(0,g.jsx)(Jl.Z,(0,S.Z)({ref:n,popupClassName:"".concat(ds," ").concat(t),className:t},r))}))(Vr||(Vr=(0,a.Z)(["\n  &&& {\n    &.ant-cascader-picker {\n      z-index: 98;\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n    }\n\n    &.ant-cascader-menus {\n      position: relative;\n      width: fit-content;\n      max-width: 660px;\n      ",";\n      .ant-cascader-menu {\n        min-width: 110px;\n      }\n\n      &:before {\n        position: absolute;\n        z-index: 2;\n        display: ",";\n        justify-content: center;\n        align-items: center;\n        content: 'loading';\n        width: 100%;\n        height: -webkit-fill-available;\n        background: rgba(255, 255, 255, 0.7);\n      }\n    }\n\n    @media only screen and (max-width: 992px) {\n      &.ant-cascader-menus{\n        max-width: 300px;\n        .ant-cascader-menu {\n          max-width: 300px;\n        }\n      }\n    }\n  }\n"])),ss,(function(e){return e.loading?"flex":"none"})),xs=function(e){var n=e.size,t=void 0===n?"default":n,r=e.value,i=e.onChange,o=e.placeholder,l=void 0===o?"Vui lòng chọn":o,s=(0,c.useRef)(),a=function(e){var n=c.useState(!1),t=(0,D.Z)(n,2),r=t[0],i=t[1],o=c.useState([]),l=(0,D.Z)(o,2),s=l[0],a=l[1],d=c.useState({}),u=(0,D.Z)(d,2),h=u[0],p=u[1],x=c.useState(null),f=(0,D.Z)(x,2),v=f[0],g=f[1],m=c.useState([]),j=(0,D.Z)(m,2),Z=j[0],b=j[1];c.useEffect((function(){b(s)}),[s]),c.useEffect((function(){var n=Ul()(e);n?Po()(h)?(i(!0),rs((0,S.Z)((0,S.Z)({},is),{},{parent_id:void 0,ids:n})).then((function(e){var n,t,r,i,o=null==e||null===(n=e.data)||void 0===n?void 0:n.map(os),l=Xl()(o);l&&(p(l),g((r=(t=l).id,i=t.name,"".concat(r," - ").concat(i))))})).finally((function(){i(!1)}))):g(null==h?void 0:h.label):(i(!0),g(null),rs(is).then((function(e){var n,t=null==e||null===(n=e.data)||void 0===n?void 0:n.map(os);a(t)})).finally((function(){i(!1)})))}),[e]);var y=c.useCallback(F()((function(e){if(Po()(e))b(s);else{i(!0);var n=!es()(Number(e)),t=(0,S.Z)((0,S.Z)({},is),{},{parent_id:void 0,ids:n?e:void 0,q:n?void 0:ts()(e)});rs(t).then((function(e){var n,t=null==e||null===(n=e.data)||void 0===n?void 0:n.map(os);b(t)})).finally((function(){i(!1)}))}}),500),[b,i,s]);return{loading:r,options:s,displayOptions:Z,searchText:v,selectedOption:h,loadData:function(e){return function(){var n=(0,A.Z)((0,_.Z)().mark((function n(t){var r,i,o,l;return(0,_.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t[t.length-1],n.prev=1,r.loading=!0,i=(0,S.Z)((0,S.Z)({},is),{},{parent_id:null==r?void 0:r.value}),n.next=6,rs(i);case 6:o=n.sent,l=o.data||[],Po()(l)||(r.children=l.map(os)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.error(n.t0);case 14:r.loading=!1,b((0,R.Z)(Z)),e&&e();case 17:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()},setSearchText:g,setSelectedOption:p,handleSearchCategories:y}}(r),d=a.loading,u=a.displayOptions,h=a.loadData,p=a.setSearchText,x=a.setSelectedOption;return(0,g.jsx)(hs,{size:t,children:(0,g.jsx)(ps,(0,S.Z)((0,S.Z)({style:{width:"100%"},loading:d,cascaderRef:s,placeholder:l,options:u,loadData:h((function(){var e=document.querySelector(".".concat(ds));if(e){var n=e.scrollWidth;e.scrollTo({left:n,behavior:"smooth"})}})),displayRender:function(e){return Ul()(e)},changeOnSelect:!0},e),{},{onChange:function(e,n){var t=Ul()(n);x(t),i&&i(e,n);var r=null==t?void 0:t.label;p(r)},showSearch:{filter:function(e,n){return n.some((function(n){return n.label.toLowerCase().indexOf(e.toLowerCase())>-1}))}}}))})},fs=I.Z.Option,vs=(0,h.ZP)(I.Z)(qr||(qr=(0,a.Z)(["\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n\n  &&& > .ant-select-selector {\n    border-right: 0;\n    height: 40px;\n    display: flex;\n    align-items: center;\n  }\n  & > .ant-select-selector > span.ant-select-selection-placeholder {\n    color: #595959;\n  }\n"]))),gs=h.ZP.div(Or||(Or=(0,a.Z)(["\n  flex: 1;\n  display: flex;\n  align-items: flex-end;\n  flex-direction: column;\n"]))),ms=F()((function(e){e()}),400),js=function(e){var n=e.onChangeQuery,t=e.query,r=void 0===t?{}:t,i=e.isShowCate,o=e.onOpenImportModal,l=r.name,s=void 0===l?"":l,a=r.code,h=void 0===a?"":a,f=r.sku,m=void 0===f?[]:f,Z=(0,c.useState)(s),b=(0,D.Z)(Z,2),y=b[0],w=b[1],k=(0,c.useState)(h),C=(0,D.Z)(k,2),S=C[0],P=C[1],I=(0,c.useState)(m),_=(0,D.Z)(I,2),A=_[0],E=_[1],F=(0,c.useState)("name"),T=(0,D.Z)(F,2),L=T[0],M=T[1],R=(0,v.LP)(),Q=R({id:Ol(L)}),z=function(e,t){n(e,t)};return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(x.Z,{gutter:24,children:[(0,g.jsx)(d.Z,{span:9,children:(0,g.jsxs)(x.Z,{children:[(0,g.jsx)(d.Z,{span:6,style:{position:"relative"},children:(0,g.jsxs)(vs,{placeholder:R({id:"bpor.order_code"}),style:{width:"100%"},onChange:function(e){M(e),"name"===e?(E([]),ms((function(){return z("sku",[])}))):"sku"===e?(w(""),ms((function(){return z("name","")}))):"code"===e&&(P(""),ms((function(){return z("code","")})))},value:L,children:[(0,g.jsx)(fs,{value:"name",children:R({id:"bpor.product_name"})}),(0,g.jsx)(fs,{value:"sku",children:R({id:"SKU"})}),(0,g.jsx)(fs,{value:"code",children:R({id:"bpor.order_code"})})]})}),(0,g.jsx)(d.Z,{span:18,children:"name"===L?(0,g.jsx)(qi.Z,{allowClear:!0,style:{width:"100%",height:40},value:y,onChange:function(e){var n,t=null==e||null===(n=e.target)||void 0===n?void 0:n.value;w(t),ms((function(){return z("name",t)}))},placeholder:Q}):"code"===L?(0,g.jsx)(qi.Z,{allowClear:!0,style:{width:"100%",height:40},value:S,onChange:function(e){var n,t=null==e||null===(n=e.target)||void 0===n?void 0:n.value;P(t),ms((function(){return z("code",t)}))},placeholder:Q}):(0,g.jsx)(Y.ol,{size:"large",id:"search-1",maxTags:20,placeholder:Q,value:A,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];E(e),ms((function(){return z("sku",e)}))}})})]})}),(0,g.jsx)(d.Z,{span:15,children:(0,g.jsxs)(x.Z,{style:{display:"flex",flexDirection:"row"},children:[(0,g.jsx)(u.Z,{spinning:!i,children:(0,g.jsx)("div",{style:{width:350,height:40,border:i?"0px":"1px solid grey"},children:i&&(0,g.jsx)(xs,{size:"large",onChange:function(e){var t=e&&e.length>0?ie()(e,[0]):"";n("categories",t)}})})}),(0,g.jsx)(j.Z,{onClick:function(){return n("clearCate")},style:{height:40},children:(0,g.jsx)(Vl.Z,{})}),(0,g.jsx)(gs,{children:(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,g.jsx)(p,{width:"7px"}),(0,g.jsxs)(j.Z,{type:"primary",onClick:o,children:[(0,g.jsx)(ql.Z,{style:{marginRight:4}}),R({id:"bpor.import_from_file"})]})]})})]})})]})})},Zs=t(98276),bs=t(26824),ys=t(55768),ws=t(60020),ks=t(5049);function Cs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"product"!==e.substr(0,7)&&"tmp"!==e.substr(0,3)}function Ss(e){return Cs(e)?"/media/catalog/product/".concat(e).trim():"/ts/".concat(e).trim()}function Ps(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Cs(e)?"/cache/".concat(n.height,"x").concat(n.width,"/media/catalog/product/").concat(e).trim():"/cache/".concat(n.height,"x").concat(n.width,"/ts/").concat(e).trim()}var Is,_s,As,Ds,Es,Fs,Ts,Ls,Ms,Rs,Qs,zs,Bs,Ns,Ys,Ws,Vs,qs,Os,Hs,Us,Ks,Js,Gs,Xs,$s,ea,na,ta,ra,ia,oa,la,sa,aa=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{width:200,height:200},r="https://uat.tikicdn.com",i=null;return i=n?Ps(e,t):Ss(e),"".concat(r).concat(i)},ca="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",da=h.ZP.div(Is||(Is=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n"]))),ua=h.ZP.div(_s||(_s=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n"]))),ha=h.ZP.div(As||(As=(0,a.Z)(["\n  margin-left: 8px;\n"]))),pa=(0,h.ZP)(Hr.Z)(Ds||(Ds=(0,a.Z)(["\n    width: 49%;\n    &&& .ant-table {\n      .ant-table-container > .ant-table-body{\n        height: 50vh;\n      }\n    & .ant-table-thead > tr > th.ant-table-cell {\n        background-color: #D9D9D9;\n    }\n    & .ant-table-thead > tr > th.ant-table-cell:nth-child(1)  {\n        border-right: 0;\n    }\n    & .ant-table-tbody > tr > td.ant-table-cell:nth-child(1) {\n        border-right: 0;\n    }\n  }\n"]))),xa=h.ZP.div(Es||(Es=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n  flex-direction:column;\n  min-height: 40px;\n  min-width: 40px;\n"]))),fa=h.ZP.div(Fs||(Fs=(0,a.Z)(["\ndisplay: flex;\nflex-direction:  column;\nalign-items: center;\nheight: 35px;\njustify-content: center;\n"]))),va={emptyText:(0,g.jsx)(Zs.Z,{image:Zs.Z.PRESENTED_IMAGE_SIMPLE,description:(0,g.jsxs)("span",{children:[(0,g.jsx)("p",{children:(0,v.wv)({id:"bpor.not_yet_selected"})}),(0,g.jsxs)(da,{children:[(0,g.jsx)(gi,{children:(0,v.wv)({id:"bpor.select_left_and_press"})}),(0,g.jsx)(ys.Z,{style:{color:"#1890FF",fontSize:20,margin:"0 5px"}}),(0,g.jsx)(gi,{children:(0,v.wv)({id:"bpor.add_to_list"})})]})]})})},ga=function(e){var n=e.total,t=void 0===n?0:n,r=e.isSelected;return(0,g.jsxs)(ci,{children:[(0,v.wv)({id:r?"bpor.product_selected":"bpor.product_can_choose"})," ",(0,g.jsxs)(gi,{size:"16px",children:["(",t,")"]})]})},ma=function(e){var n,t,r,i=e.record,o=void 0===i?{}:i,l=null!=o&&o.thumbnail?aa(null==o?void 0:o.thumbnail):"error",s=ie()(o,["attributes","catalog_group_name"],""),a=(0,v.LP)();return(0,g.jsxs)(ua,{children:[(0,g.jsx)(xa,{children:(0,g.jsx)(bs.Z,{width:40,height:40,src:l,fallback:ca})}),(0,g.jsxs)(ha,{children:[(0,g.jsx)(Ql,{fullText:null==o?void 0:o.name,children:(0,g.jsx)(ui,{style:{display:"block",fontWeight:"600"},children:null==o?void 0:o.name})}),(0,g.jsxs)(pi,{style:{display:"block"},children:["".concat(a({id:"bpor.category"}),":  ").concat(s),(null==o||null===(n=o.brand)||void 0===n?void 0:n.value)&&" | ".concat(a({id:"bpor.trademark"}),": ").concat(null==o||null===(t=o.brand)||void 0===t?void 0:t.value)]}),(0,g.jsxs)(pi,{children:["SKU: ",null==o?void 0:o.sku,(null==o?void 0:o.seller_product_code)&&" | ".concat(a({id:"bpor.product_code"}),": ").concat(null==o?void 0:o.seller_product_code)," | ",(0,g.jsxs)(pi,{color:"orange",children:[a({id:"bpor.inventory"}),": ",(null==o||null===(r=o.inventory)||void 0===r?void 0:r.qty_available)||0]})]}),(null==o?void 0:o.isDisable)&&(0,g.jsxs)(ji,{color:"red",size:"14px",children:[" "," ".concat(a({id:"bpor.cant_import"})," "),(0,g.jsx)(Ti.Z,{title:a({id:"bpor.not_current_in_warehouse"}),children:(0,g.jsx)(pl.Z,{})})]})]})]})},ja=function(e){var n=e.action,t=e.isSelected,r=e.record;return t?(0,g.jsx)(ws.Z,{onClick:function(){return n("minus",r)},style:{fontSize:20,cursor:"pointer",color:"red"}}):null!=r&&r.isDisable?(0,g.jsx)(ks.Z,{style:{fontSize:20,cursor:"pointer",color:"red"}}):(0,g.jsx)(ys.Z,{onClick:function(){return n("add",r)},style:{fontSize:20,cursor:"pointer",color:"#1890FF"}})},Za=function(e){var n=e.isSelected,t=e.action,r=e.data,i=void 0===r?[]:r;return n?(0,g.jsx)(fa,{children:(0,g.jsx)(wi,{style:{color:"red"},onClick:function(){return t("all",i,"minus")},children:(0,v.wv)({id:"bpor.delete_all"})})}):(0,g.jsxs)(fa,{children:[(0,g.jsx)(wi,{onClick:function(){return t("all",i,"add")},style:{display:"block"},children:(0,v.wv)({id:"bpor.select_all"})}),(0,g.jsxs)(pi,{size:"13px",children:["(",i.length," ",(0,v.wv)({id:"bpor.product"}),")"]})]})},ba=function(e,n,t,r){return[{title:(0,g.jsx)(ga,{total:e,isSelected:t}),render:function(e,n){return(0,g.jsx)(ma,{record:n})},width:"75%"},{title:(0,g.jsx)(Za,{isSelected:t,action:n,data:r}),dataIndex:"address",width:"25%",align:"center",render:function(e,r){return(0,g.jsx)(ja,{record:r,action:n,isSelected:t})}}]},ya=function(e){var n,t,r=e.data,i=void 0===r?{}:r,o=e.isSelected,l=e.onChangeListSelected,s=e.onChangeQuery,a=e.limit,d=(0,c.useState)(20),u=(0,D.Z)(d,2),h=u[0],p=u[1],x=(0,v.LP)();if(o){var f,m,j=null==i||null===(f=i.data)||void 0===f?void 0:f.length;return(0,g.jsx)(pa,{scroll:{y:"50vh"},columns:ba(j,l,o,null==i?void 0:i.data),dataSource:null==i?void 0:i.data,bordered:!0,rowKey:"id",locale:va,pagination:{pageSize:h,total:null==i||null===(m=i.data)||void 0===m?void 0:m.length,showSizeChanger:!0,onChange:function(e,n){return p(n)},showTotal:function(e,n){return"".concat(n[0],"-").concat(n[1],"(").concat(x({id:"Tổng cộng"}),": ").concat(e,")")}}})}var Z=null==i||null===(n=i.data)||void 0===n?void 0:n.length;return(0,g.jsx)(pa,{scroll:{y:"50vh"},columns:ba(Z,l,o,null==i?void 0:i.data),dataSource:null==i?void 0:i.data,rowKey:"id",bordered:!0,rowClassName:function(e){return!0===(null==e?void 0:e.isDisable)?"disabledRow":""},pagination:{pageSize:a,total:null==i||null===(t=i.paging)||void 0===t?void 0:t.total,showTotal:function(e,n){return"".concat(n[0],"-").concat(n[1],"(").concat(x({id:"Tổng cộng"}),": ").concat(e,")")},onChange:function(e,n){return s("page",e,n)}}})},wa=h.ZP.div(Ts||(Ts=(0,a.Z)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 25px;\n\n  & > * {\n    flex-grow: 1;\n    flex-shrink: 1;\n  }\n"]))),ka=function(e){var n=e.data,t=e.onChangeListSelected,r=e.onChangeQuery,i=e.limit;return(0,g.jsxs)(wa,{children:[(0,g.jsx)(ya,{data:null==n?void 0:n.listProduct,onChangeListSelected:t,onChangeQuery:r,limit:i}),(0,g.jsx)(ya,{data:null==n?void 0:n.listSelected,isSelected:!0,onChangeQuery:r,onChangeListSelected:t,limit:i})]})},Ca=h.ZP.div(Ls||(Ls=(0,a.Z)(["\n  padding: 24px;\n  background-color: white;\n  overflow-y: scroll;\n"]))),Sa=function(e){var n=e.data,t=e.onChangeListSelected,r=e.query,i=e.onChangeQuery,o=e.onOpenImportModal,l=e.isShowCate,s=e.limit,a=e.isVisibleImport,c=e.sellerId,d=e.onImportCB,u=e.onCloseImportModal;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(Ca,{children:[(0,g.jsx)(js,{query:r,onChangeQuery:i,isShowCate:l,onOpenImportModal:o}),(0,g.jsx)(p,{height:"18px"}),(0,g.jsx)(ka,{data:n,onChangeListSelected:t,onChangeQuery:i,limit:s})]}),a&&(0,g.jsx)(Wl,{sellerId:c,isVisible:a,onClose:u,onImportCB:d})]})},Pa=function(){var e=function(){var e=(0,c.useContext)(Zo),n=e.setIsLoading,t=e.productListData,r=e.setProductListData,i=e.listSelected,o=e.setListSelected,l=oe().params.sellerId,s=(0,c.useState)(!1),a=(0,D.Z)(s,2),d=a[0],u=a[1],h=(0,c.useState)({name:null,code:null,sku:[],categories:null,brand:null,page:1,selectedId:l,limit:20}),p=(0,D.Z)(h,2),x=p[0],f=p[1],v=x.name,g=x.code,m=x.sku,j=x.page,Z=x.selectedId,b=x.categories,y=x.limit;(0,c.useEffect)((function(){var e=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(){var t,i,o,l,s,a,c;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0),t=(j-1)*y,i={seller_ids:[Z],name:v,seller_product_code:g,skus:m.length>0?m:null,categories:b},o=(0,ne.Hd)(i),e.next=7,ge({cursor:t,dataPayload:o,limit:y});case 7:if(!("error"in(l=e.sent))){e.next=10;break}throw new Error(null==l||null===(s=l.error)||void 0===s?void 0:s.message);case 10:return a=null==l?void 0:l.data.map((function(e){var n,t=(0,S.Z)({},e),r=null==t||null===(n=t.inventory)||void 0===n?void 0:n.qty_available;return(!r||r<=0)&&(t.isDisable=!0),t})),c={data:a,paging:{total:null==l?void 0:l.total}},r(c),e.abrupt("return",n(!1));case 16:return e.prev=16,e.t0=e.catch(0),Ze.ZP.error(e.t0.message),e.abrupt("return",n(!1));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[v,g,j,Z,m,b,n,r,y]);var w=(0,c.useState)(!0),k=(0,D.Z)(w,2),C=k[0],P=k[1],I=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n,t,r){var i,o,l,s,a,c,d;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("clearCate"!==n){e.next=7;break}return i=(0,S.Z)({},x),P(!1),e.next=5,(0,ne.gw)(300);case 5:return P(!0),e.abrupt("return",f((0,S.Z)((0,S.Z)({},i),{},{categories:t,page:1})));case 7:if("page"!==n){e.next=10;break}return o=(0,S.Z)({},x),e.abrupt("return",f((0,S.Z)((0,S.Z)({},o),{},{page:t,limit:r})));case 10:if("sku"!==n){e.next=13;break}return l=(0,S.Z)({},x),e.abrupt("return",f((0,S.Z)((0,S.Z)({},l),{},{sku:t,name:null,code:null,page:1})));case 13:if("name"!==n){e.next=16;break}return s=(0,S.Z)({},x),e.abrupt("return",f((0,S.Z)((0,S.Z)({},s),{},{name:t,sku:[],code:null,page:1})));case 16:if("code"!==n){e.next=19;break}return a=(0,S.Z)({},x),e.abrupt("return",f((0,S.Z)((0,S.Z)({},a),{},{code:t,sku:[],name:null,page:1})));case 19:if("categories"!==n){e.next=22;break}return c=(0,S.Z)({},x),e.abrupt("return",f((0,S.Z)((0,S.Z)({},c),{},{categories:t,page:1})));case 22:if("brand"!==n){e.next=25;break}return d=(0,S.Z)({},x),e.abrupt("return",f((0,S.Z)((0,S.Z)({},d),{},{brand:t,page:1})));case 25:return e.abrupt("return",null);case 26:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}();return{data:(0,c.useMemo)((function(){var e=null!=t&&t.data?null==t?void 0:t.data.filter((function(e){return-1===kn()(i,(function(n){return e.sku===n.sku}))})):[];return{listProduct:(0,S.Z)((0,S.Z)({},t),{},{data:e}),listSelected:{data:i}}}),[t,i]),onChangeListSelected:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;if("all"===e){var r=n.filter((function(e){return!(null!=e&&e.isDisable)}))||[],l="add"===t?[].concat((0,R.Z)(i),(0,R.Z)(r)):[];return o(l)}if("add"===e){var s=[n].concat((0,R.Z)(i));return o(s)}var a=(0,R.Z)(i),c=kn()(a,(function(e){return(null==e?void 0:e.sku)===(null==n?void 0:n.sku)}));return c>-1?(a.splice(c,1),o(a)):null},query:x,onChangeQuery:I,isVisibleImport:d,selectedId:Z,isShowCate:C,onCloseImportModal:function(){return u(!1)},onOpenImportModal:function(){return u(!0)},onImportCB:function(e){u(!1);var t={},r=e.map((function(e){var n=(null==e?void 0:e.sku)||0;return t[n]=null==e?void 0:e.expected_qty,n}));Ho(),function(e){var r=function(){var r=(0,A.Z)((0,_.Z)().mark((function r(){var l,s,a,c,d,u,h;return(0,_.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(!0),l={seller_ids:[Z],skus:e},r.next=5,ge({cursor:0,dataPayload:l,limit:1e3});case 5:if(!("error"in(s=r.sent))){r.next=8;break}throw new Error(null==s||null===(a=s.error)||void 0===a?void 0:a.message);case 8:if(c=(null==s?void 0:s.data)||[],d=c.map((function(e){var n,t=(0,S.Z)({},e),r=(null==e||null===(n=e.attributes)||void 0===n?void 0:n.shipping_weight)||0;return t.weight=r,t})),0!==e.length){r.next=12;break}return r.abrupt("return",null);case 12:return u=(0,R.Z)(i),h=d.map((function(e){var n=u.findIndex((function(n){return(null==n?void 0:n.sku)===(null==e?void 0:e.sku)}));n>-1&&u.splice(n,1);var r=(0,S.Z)({},e),i=null==r?void 0:r.sku;return r.isDisable=!r.quantity,r.valueQty=ie()(t,[i],0),r})),o([].concat((0,R.Z)(u),(0,R.Z)(h))),r.abrupt("return",null);case 18:return r.prev=18,r.t0=r.catch(0),r.abrupt("return",null);case 21:return r.prev=21,n(!1),r.finish(21);case 24:case"end":return r.stop()}}),r,null,[[0,18,21,24]])})));return function(){return r.apply(this,arguments)}}();r()}(r)}}}(),n=e.data,t=e.onChangeListSelected,r=e.query,i=e.onChangeQuery,o=e.selectedId,l=e.isShowCate,s=e.isVisibleImport,a=e.onOpenImportModal,d=e.onCloseImportModal,u=e.onImportCB;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(vl,{}),(0,g.jsx)(p,{height:"16px"}),(0,g.jsx)(Sa,{onOpenImportModal:a,isShowCate:l,sellerId:o,data:n,onChangeListSelected:t,query:r,limit:null==r?void 0:r.limit,onChangeQuery:i,isVisibleImport:s,onCloseImportModal:d,onImportCB:u}),(0,g.jsx)(p,{height:"16px"})]})},Ia=(0,h.ZP)(x.Z)(Ms||(Ms=(0,a.Z)(["\n  background-color: #E6F7FF;\n  border: 1px solid #91D5FF;\n  padding: 16px 24px;\n  border-radius: 2px;\n\n"]))),_a=(0,h.ZP)(pl.Z)(Rs||(Rs=(0,a.Z)(["\n  color: #1890FF;\n  font-size: 21px;\n"]))),Aa=function(){return(0,g.jsxs)(Ia,{gutter:15,style:{marginLeft:0,marginRight:0},wrap:!1,children:[(0,g.jsx)(d.Z,{style:{marginRight:15},flex:"none",children:(0,g.jsx)(_a,{})}),(0,g.jsxs)(d.Z,{flex:"auto",children:[(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,g.jsx)(ji,{size:"6px",children:"●"})," ",(0,g.jsx)(gi,{children:(0,g.jsx)(v.qt,{id:"bpor.create.title_create_step2.1"})})]}),(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,g.jsx)(ji,{size:"6px",children:"●"})," ",(0,g.jsx)(gi,{children:(0,g.jsx)(v.qt,{id:"bpor.create.title_create_step2.2"})})]})]})]})},Da=h.ZP.div(Qs||(Qs=(0,a.Z)(["\n  display: flex ;\n  align-items: center ;\n"]))),Ea=h.ZP.div(zs||(zs=(0,a.Z)(["\n  display: flex ;\n"]))),Fa=function(e){var n=e.total,t=(0,v.LP)();return(0,g.jsxs)(Da,{children:[t({id:"bpor.sum.total"}),": ",(0,g.jsxs)("b",{children:[n," ",t({id:"bpor.sum.product"})]})]})},Ta=function(e){var n=function(e){for(var n=Uo(),t=0,r=0,i=!0,o=ie()(n,[e],{}),l=0,s=Object.entries(o);l<s.length;l++){var a=(0,D.Z)(s[l],2),c=(a[0],a[1]),d=null==c?void 0:c.value,u=null==c?void 0:c.weight;t=d+t,!u&&d?i=!1:u&&i&&(r+=parseFloat((u*d).toString()))}return{isVisibleWeight:i,total:t,totalWeight:r}}(e.warehouseCode),t=n.isVisibleWeight,r=n.total,i=n.totalWeight,o=(0,v.LP)();return(0,g.jsxs)(Ea,{children:[o({id:"bpor.number"})," ",(0,g.jsxs)("b",{style:{marginLeft:4},children:[r,t&&"(".concat(i,"kg)")]})]})},La=t(18578),Ma=function(e,n){try{var t,r,i=null==n?void 0:n.sku,o=(null==n||null===(t=n.attributes)||void 0===t?void 0:t.shipping_weight)&&parseFloat(null==n||null===(r=n.attributes)||void 0===r?void 0:r.shipping_weight),l=function(e,n){return ie()(qo,[e,n,"value"],0)}(e,i)||0;return{valueInit:l,sku:i,weight:o}}catch(e){return{}}},Ra=h.ZP.div(Bs||(Bs=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n"]))),Qa=h.ZP.div(Ns||(Ns=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),za=h.ZP.div(Ys||(Ys=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n"]))),Ba=h.ZP.div(Ws||(Ws=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n  height: 32px;\n  margin-left: 8px;\n"]))),Na=(0,h.ZP)(qi.Z)(Vs||(Vs=(0,a.Z)(["\n  width: 144px;\n  height: 32px;\n  text-align: end;\n  border: ",";\n  :focus {\n    border: ",";\n  }\n  :hover {\n    border: ",";\n  }\n"])),(function(e){return(null==e?void 0:e.isError)&&"1px solid red"}),(function(e){return(null==e?void 0:e.isError)&&"1px solid red"}),(function(e){return(null==e?void 0:e.isError)&&"1px solid red"})),Ya=h.ZP.div(qs||(qs=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  border: ",";\n  border-left: 0px;\n  cursor: ",";\n  background-color: ",";\n  :hover {\n    border: ",";\n  }\n  height: 32px;\n  width: 30px;\n"])),(function(e){return null!=e&&e.isError?"1px solid red":"1px solid #d9d9d9"}),(function(e){return e.isDisable&&"not-allowed"}),(function(e){return e.isDisable&&"#F5F5F5"}),(function(e){return e.isDisable||e.isError?"":"1px solid #1890ff"})),Wa=h.ZP.div(Os||(Os=(0,a.Z)(["\n  flex: 1;\n  border-bottom: ",";\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.top&&"1px solid #d9d9d9"})),Va=F()((function(e,n){return e(n)}),700),qa=function(e){var n=e.record,t=e.warehouse,r=e.isDisable,i=e.availableQuantity,o=e.onChangeValueListSelected,l=(0,v.LP)(),s=Ma(null==t?void 0:t.code,n),a=s.valueInit,d=s.sku,u=s.weight,h=(0,c.useState)(a),x=(0,D.Z)(h,2),f=x[0],m=x[1];if(r)return(0,g.jsx)(fi,{style:{display:"block"},children:l({id:"bpor.create.step2.empty_product"})});var j=function(e){Oo(null==e?void 0:e.warehouseCode,null==e?void 0:e.sku,null==e?void 0:e.value,null==e?void 0:e.weight,o)},Z=f&&0!==f?parseFloat((parseInt(f,10)*parseFloat(u)).toString()).toFixed(2):0;return(0,g.jsx)(Ra,{children:(0,g.jsxs)(Qa,{children:[(0,g.jsxs)(za,{children:[(0,g.jsx)(Na,{onChange:function(e){var n,r=(null==e||null===(n=e.target)||void 0===n?void 0:n.value)||0;if(!Number.isNaN(r)&&r<=i){var o={value:parseInt(r,10),sku:d,weight:u,warehouseCode:null==t?void 0:t.code};Va(j,o),m(r)}},value:f}),(0,g.jsx)(Oa,{onChangeValue:function(e,n){try{if(r)return;if(e>i&&!n)return;var o={value:e,sku:d,weight:u,warehouseCode:null==t?void 0:t.code};Va(j,o),m(e)}catch(e){}},value:f}),u&&(0,g.jsx)(Ha,{value:Z})]}),(0,g.jsx)(p,{height:"5px"}),(0,g.jsx)(fi,{style:{display:"block"},children:"".concat(l({id:"bpor.create.step2.can_withdraw"}),": <=").concat(i)})]})})},Oa=function(e){var n=e.onChangeValue,t=e.value,r=e.isDisable,i=e.isError,o=parseInt(t,10);return(0,g.jsxs)(Ya,{isDisable:r,isError:i,children:[(0,g.jsx)(Wa,{top:!0,onClick:function(){return n(o+1)},children:(0,g.jsx)(La.Z,{style:{fontSize:8}})}),(0,g.jsx)(Wa,{onClick:function(){return n(0===o?0:o-1,!0)},children:(0,g.jsx)(yn.Z,{style:{fontSize:8}})})]})},Ha=function(e){var n=e.value,t=void 0===n?0:n;return(0,g.jsx)(Ba,{children:(0,g.jsxs)(fi,{children:["(",t," kg)"]})})},Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return e.forEach((function(e){var t=null==e?void 0:e.sku;((null==e?void 0:e.warehouses)||[]).forEach((function(e){var r={code:null==e?void 0:e.code,product:(0,Vo.Z)({},t,{sku:t,availableQuantity:null==e?void 0:e.available_quantity})},i=n.findIndex((function(e){return(null==e?void 0:e.code)===(null==r?void 0:r.code)}));if(-1===i)n.push(r);else{var o=n[i],l=null==o?void 0:o.product;n[i]=(0,S.Z)((0,S.Z)({},o),{},{product:(0,S.Z)((0,S.Z)({},l),null==r?void 0:r.product)})}}))})),n},Ka=function(e,n){var t=null==n?void 0:n.product,r=ie()(t,[e,"availableQuantity"],0);return{isDisable:!r,availableQuantity:r}},Ja=h.ZP.div(Hs||(Hs=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n"]))),Ga=h.ZP.div(Us||(Us=(0,a.Z)(["\n  margin-left: 8px;\n"]))),Xa=(0,h.ZP)(Hr.Z)(Ks||(Ks=(0,a.Z)(["\n  &&& .ant-table {\n    .ant-table-container {\n      border-left: 1px solid #d9d9d9;\n      border-top: 1px solid #d9d9d9;\n    }\n    & .ant-table-thead > tr:nth-child(1) > th.ant-table-cell:nth-child(3) {\n      border-left: 1px solid #d9d9d9;\n    }\n    & .ant-table-thead > tr > th.ant-table-cell {\n      background-color: #f5f5f5;\n      border-bottom: 1px solid #d9d9d9;\n      border-right: 1px solid #d9d9d9;\n    }\n    & .ant-table-tbody > tr > td.ant-table-cell {\n      border-right: 1px solid #d9d9d9;\n      border-bottom: 1px solid #d9d9d9;\n    }\n    & .ant-table-tbody > tr > td.ant-table-cell:last-child {\n      border-right: 1px solid #d9d9d9;\n      border-bottom: 1px solid #d9d9d9;\n      border-left: 1px solid #d9d9d9;\n    }\n\n    & .ant-table-tbody > tr:nth-child(2) td {\n      background-color: #e6f7ff;\n    }\n  }\n"]))),$a=h.ZP.div(Js||(Js=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  min-height: 40px;\n  min-width: 40px;\n"]))),ec=function(e){var n,t,r,i=e.record,o=void 0===i?{}:i,l=null!=o&&o.thumbnail?aa(null==o?void 0:o.thumbnail):"error",s=ie()(o,["attributes","catalog_group_name"],""),a=(0,v.LP)();return(0,g.jsxs)(Ja,{children:[(0,g.jsx)($a,{children:(0,g.jsx)(bs.Z,{width:40,height:40,src:l,fallback:ca})}),(0,g.jsxs)(Ga,{children:[(0,g.jsx)(Ql,{fullText:null==o?void 0:o.name,children:(0,g.jsx)(ui,{style:{display:"block",fontWeight:"600"},children:null==o?void 0:o.name})}),(0,g.jsxs)(pi,{style:{display:"block"},children:["".concat(a({id:"bpor.category"}),":  ").concat(s),(null==o||null===(n=o.brand)||void 0===n?void 0:n.value)&&" | ".concat(a({id:"bpor.trademark"}),": ").concat(null==o||null===(t=o.brand)||void 0===t?void 0:t.value)]}),(0,g.jsxs)(pi,{children:["SKU: ",null==o?void 0:o.sku," |"," ",(null==o?void 0:o.seller_product_code)&&"".concat(a({id:"bpor.product_code"}),": ").concat(null==o?void 0:o.seller_product_code," | "),(0,g.jsxs)(pi,{color:"orange",children:[a({id:"bpor.inventory"}),": ",(null==o||null===(r=o.inventory)||void 0===r?void 0:r.qty_available)||0]})]})]})]})},nc=function(e){var n=e.record,t=e.action;return(0,g.jsx)(ks.Z,{onClick:function(){return t(n)},style:{color:"red",fontSize:20,cursor:"pointer"}})},tc=function(e){var n=e.warehouseSelected,t=void 0===n?[]:n,r=e.onRemoveItemListSelected,i=e.listSelected,o=void 0===i?[]:i,l=e.onChangeValueListSelected,s=[{title:(0,v.wv)({id:"bpor.product"}),dataIndex:"name",render:function(e,n){return null!=n&&n.isSum?(0,g.jsx)(Fa,{total:o.length}):(0,g.jsx)(ec,{record:n})},width:400,fixed:"left"}],a={title:(0,g.jsx)(rc,{}),children:[]},c=t.map((function(e){return{title:(0,g.jsxs)(ui,{children:[(0,v.wv)({id:"bpor.warehouse"})," ",null==e?void 0:e.code.toUpperCase()]}),dataIndex:"warehouse",key:"warehouse",width:300,onCell:function(n){return{className:Ka(null==n?void 0:n.sku,e).isDisable?"disableRow":null}},render:function(n,t){if(null!=t&&t.isSum)return(0,g.jsx)(Ta,{warehouseCode:null==e?void 0:e.code});var r=Ka(null==t?void 0:t.sku,e),i=r.availableQuantity,o=r.isDisable;return(0,g.jsx)(qa,{record:t,warehouse:e,isDisable:o,availableQuantity:i,onChangeValueListSelected:l})}}}));a.children=c;var d={title:(0,v.wv)({id:"bpor.manipulation"}),dataIndex:"address",width:100,align:"center",fixed:"right",render:function(e,n){return null!=n&&n.isSum?null:(0,g.jsx)(nc,{record:n,action:r})}};return[].concat(s,[a,d])},rc=function(){return(0,g.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row"},children:(0,g.jsx)(ui,{children:(0,v.wv)({id:"bpor.estimated_inventory_quantity"})})})},ic=function(e){var n=e.listSelected,t=void 0===n?[]:n,r=e.warehouseSelected,i=e.onRemoveItemListSelected,o=e.onChangeValueListSelected,l=oc({listSelected:t});return(0,g.jsx)(Xa,{columns:tc({warehouseSelected:r,onRemoveItemListSelected:i,listSelected:t,onChangeValueListSelected:o}),dataSource:l,bordered:!0,scroll:{x:"calc(700px + 50%)"},pagination:!1,rowKey:"id"})},oc=function(e){var n=e.listSelected,t=void 0===n?[]:n;return[{isSum:!0}].concat((0,R.Z)(t))},lc=h.ZP.div(Gs||(Gs=(0,a.Z)(["\n    display: flex;\n    flex-direction: row;\n    max-height: 1000px;\n    width: 100%;\n"]))),sc=h.ZP.div(Xs||(Xs=(0,a.Z)(["\n    flex:1;\n"]))),ac=function(e){var n=e.listSelected,t=e.warehouseSelected,r=e.onRemoveItemListSelected,i=e.onChangeValueListSelected;return(0,g.jsx)(lc,{children:(0,g.jsx)(sc,{children:(0,g.jsx)(ic,{listSelected:n,warehouseSelected:t,onRemoveItemListSelected:r,onChangeValueListSelected:i})})})},cc=h.ZP.div($s||($s=(0,a.Z)(["\n    padding: 24px;\n    background-color: white;\n"]))),dc=function(e){var n=e.listSelected,t=e.warehouseSelected,r=e.onRemoveItemListSelected,i=e.onChangeValueListSelected;return(0,g.jsxs)(cc,{children:[(0,g.jsx)(p,{height:"18px"}),(0,g.jsx)(ac,{listSelected:n,warehouseSelected:t,onRemoveItemListSelected:r,onChangeValueListSelected:i})]})},uc=function(){var e=function(){var e=(0,c.useContext)(Zo),n=e.listSelected,t=e.setListSelected,r=e.setIsLoading,i=e.sellerIdSelected,o=e.warehouseSelected,l=e.setWarehouseSelected,s=e.setNumberWithdrawalSelected;return(0,c.useEffect)((function(){var e=n.map((function(e){return{sku:null==e?void 0:e.sku}})),t=function(){var n=(0,A.Z)((0,_.Z)().mark((function n(){var t,o,s,a;return(0,_.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(!0),t={items:e,seller_id:i},n.next=5,me(t);case 5:if(!("error"in(o=n.sent))){n.next=8;break}throw new Error(null==o||null===(s=o.error)||void 0===s?void 0:s.message);case 8:a=Ua(null==o?void 0:o.data),l(a),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),Ze.ZP.error(n.t0.message);case 15:return n.prev=15,r(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[0,12,15,18]])})));return function(){return n.apply(this,arguments)}}();t(),s(Uo())}),[]),{listSelected:n,warehouseSelected:o,onRemoveItemListSelected:function(e){try{var r=null==e?void 0:e.sku,i=(0,R.Z)(n),o=kn()(i,(function(e){return(null==e?void 0:e.sku)===r}));return-1!==o?(i.splice(o,1),Ko(r,s),t(i)):null}catch(e){return console.log("erroe",e),be()}},onChangeValueListSelected:function(e){s(e)}}}(),n=e.listSelected,t=e.warehouseSelected,r=e.onRemoveItemListSelected,i=e.onChangeValueListSelected;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Aa,{}),(0,g.jsx)(p,{height:"16px"}),(0,g.jsx)(dc,{listSelected:n,warehouseSelected:t,onRemoveItemListSelected:r,onChangeValueListSelected:i}),(0,g.jsx)(p,{height:"16px"})]})},hc=h.ZP.div(ea||(ea=(0,a.Z)(["\n    padding: 24px 24px 0 24px;\n    background-color: white;\n    border-bottom: 1px solid #D9D9D9;\n"]))),pc=function(e){var n=e.total,t=void 0===n?0:n;return(0,g.jsxs)(hc,{children:[(0,g.jsx)(ci,{style:{display:"block",textAlign:"center"},children:(0,v.wv)({id:"bpor.create.step3.title"},{value:t})}),(0,g.jsx)(p,{height:"1px"}),(0,g.jsx)(gi,{size:"15px",style:{display:"block",textAlign:"center"},children:(0,v.wv)({id:"bpor.create.step3.subtitle"})}),(0,g.jsx)(p,{height:"16px"})]})},xc=t(4293),fc=t(79157),vc=h.ZP.div(na||(na=(0,a.Z)(["\n  padding: 22px;\n  border-radius: 1px;\n  border: 1px solid #d9d9d9;\n  width: 620px ;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n"]))),gc=h.ZP.div(ta||(ta=(0,a.Z)(["\n  display: row ;\n"]))),mc=h.ZP.div(ra||(ra=(0,a.Z)(["flex:1;"]))),jc=function(e){var n=e.customerInformation,t=e.warehouseCode,r=e.onSelectCustomerInformation;return(0,c.useEffect)((function(){r(t,n)}),[]),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(xc.Z,{title:"Thông tin người rút hàng",headStyle:{backgroundColor:"#E8E8E8"},children:(0,g.jsxs)(gc,{children:[(0,g.jsx)(mc,{children:(0,g.jsx)(vc,{children:(0,g.jsxs)(fc.ZP,{checked:!0,onChange:function(){},children:[(0,g.jsx)(ui,{style:{display:"block",fontSize:16},children:"Đại diện gian hàng"}),(0,g.jsxs)("span",{style:{display:"block",fontSize:14},children:[" ",(0,g.jsx)(ui,{children:"Họ và tên:"})," ",(0,g.jsx)(ji,{children:null==n?void 0:n.business_representative})]}),(0,g.jsxs)("span",{style:{display:"block",fontSize:14},children:[" ",(0,g.jsx)(ui,{children:"Số điện thoại:"})," ",(0,g.jsx)(ji,{children:null==n?void 0:n.contact_phone})]}),(0,g.jsxs)("span",{style:{display:"block",fontSize:14},children:[" ",(0,g.jsx)(ui,{children:"Email:"})," ",(0,g.jsx)(ji,{children:null==n?void 0:n.contact_email})]})]})})}),(0,g.jsx)(mc,{})]})})})},Zc=I.Z.Option,bc=h.ZP.div(ia||(ia=(0,a.Z)(["\n  margin: 6px 0px;\n"]))),yc=function(e){var n=e.tikiReturnWarehouse,t=e.warehouseCode,r=e.onSelectTikiReturnWarehouse;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(xc.Z,{title:"Bạn muốn tới kho Tiki nào để nhận hàng?",headStyle:{backgroundColor:"#E8E8E8"},children:(0,g.jsx)(I.Z,{optionLabelProp:"label",placeholder:"Chọn",style:{width:600},onChange:function(e){r(t,e)},children:n.map((function(e){return(0,g.jsx)(Zc,{label:null==e?void 0:e.name,value:null==e?void 0:e.code,children:(0,g.jsxs)(bc,{children:[(0,g.jsx)(ui,{style:{display:"block"},children:null==e?void 0:e.name}),(0,g.jsx)(ji,{style:{display:"block"},children:null==e?void 0:e.address}),(0,g.jsxs)(fi,{style:{display:"block"},children:["Thông tin liên lạc: ",null==e?void 0:e.contact]})]})},null==e?void 0:e.code)}))})})})},wc=(0,h.ZP)(Ne.Z)(oa||(oa=(0,a.Z)(["\n  width: 100%;\n  background-color: #fff;\n\n  & > .ant-tabs-nav::before {\n    border-bottom-color: #d9d9d9;\n  }\n\n  & > .ant-tabs-nav {\n    margin: 0;\n    & .ant-tabs-nav-list {\n      & .ant-tabs-tab {\n        width: fit-content;\n        margin-right: 4px;\n        border-radius: 4px 4px 0 0;\n        border-color: #d9d9d9;\n        background-color: #f5f5f5;\n      }\n\n      & .ant-tabs-tab:first-child {\n        margin-left: 32px;\n      }\n\n      @media screen and (max-width: 991px) {\n        & .ant-tabs-tab:first-child {\n          margin-left: 8px;\n        }\n      }\n\n      & .ant-tabs-tab-active {\n        border-top-color: #1890ff;\n        border-top-width: 3px;\n        background-color: #fff;\n        border-bottom: none;\n      }\n\n      & .ant-tabs-tab:not(.ant-tabs-tab-active) strong {\n        color: #262626;\n      }\n    }\n  }\n"]))),kc=h.ZP.span(la||(la=(0,a.Z)(["\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n"]))),Cc=h.ZP.div(sa||(sa=(0,a.Z)(["\n  padding: 16px 24px;\n"])));function Sc(e){var n=e.customerInformation,t=e.tikiReturnWarehouse,r=e.createData,i=e.tab,o=e.onTabChange,l=e.onSelectTikiReturnWarehouse,s=e.onSelectCustomerInformation;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"16px  "}),(0,g.jsx)(wc,{type:"card",size:"middle",activeKey:i,onChange:o,tabPosition:"top",children:r.map((function(e){var r=function(e){return"Kho ".concat(e.code.toUpperCase()," (").concat(e.countProduct," sản phẩm - Số lượng: ").concat(e.total,")")}(e);return(0,g.jsx)(wc.TabPane,{tab:(0,g.jsx)(kc,{children:r}),children:(0,g.jsxs)(Cc,{children:[(0,g.jsx)(yc,{onSelectTikiReturnWarehouse:l,warehouseCode:e.code,tikiReturnWarehouse:t}),(0,g.jsx)(jc,{warehouseCode:e.code,onSelectCustomerInformation:s,customerInformation:n})]})},e.code)}))})]})}var Pc,Ic,_c,Ac,Dc,Ec,Fc,Tc,Lc,Mc,Rc,Qc,zc,Bc,Nc,Yc,Wc,Vc,qc,Oc,Hc,Uc,Kc,Jc,Gc,Xc,$c,ed,nd,td,rd,id,od,ld,sd,ad,cd,dd,ud,hd,pd,xd,fd,vd,gd,md,jd,Zd=function(e){var n=e.createData,t=e.tikiReturnWarehouse,r=e.customerInformation,i=e.onTabChange,o=e.onSelectTikiReturnWarehouse,l=e.onSelectCustomerInformation;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(pc,{total:null==n?void 0:n.length}),(0,g.jsx)(p,{height:"16px"}),(0,g.jsx)(Sc,{tikiReturnWarehouse:t,customerInformation:r,createData:n,onTabChange:i,onSelectTikiReturnWarehouse:o,onSelectCustomerInformation:l})]})},bd=function(){var e=function(){var e=(0,c.useContext)(Zo),n=(e.numberWithdrawalSelected,e.sellerIdSelected),t=e.createData,r=e.setCreateData,i=(0,c.useState)(0),o=(0,D.Z)(i,2),l=o[0],s=o[1],a=(0,c.useState)([]),d=(0,D.Z)(a,2),u=d[0],h=d[1],p=(0,c.useState)(),x=(0,D.Z)(p,2),f=x[0],v=x[1];return(0,c.useEffect)((function(){var e=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(){var n,t;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q("".concat("https://api-sellercenter.tala.xyz","/seller/v2/inventory_withdrawals/warehouses"),{},{hasResponseServerMessage:!0,fullpath:!0});case 3:if(!("error"in(n=e.sent))){e.next=6;break}throw new Error(null==n||null===(t=n.error)||void 0===t?void 0:t.message);case 6:h(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),be();case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,c.useEffect)((function(){var e=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(){var t,r;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i=n,q("".concat("https://api-sellercenter.tala.xyz","/seller/v2/sellers/").concat(i,"/registrations"),{},{hasResponseServerMessage:!0,fullpath:!0});case 3:if(!("error"in(t=e.sent))){e.next=6;break}throw new Error(null==t||null===(r=t.error)||void 0===r?void 0:r.message);case 6:v(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),be();case 12:case"end":return e.stop()}var i}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[n]),(0,c.useEffect)((function(){return function(){r([])}}),[]),{sellerId:2,tab:l,onTabChange:function(e){s(e)},tikiReturnWarehouse:u,customerInformation:f,onSelectTikiReturnWarehouse:function(e,n){var i=t.map((function(t){return(null==t?void 0:t.code)===e?(0,S.Z)((0,S.Z)({},t),{},{tikiReturnWarehouse:n}):t}));r(i)},onSelectCustomerInformation:function(e,n){console.log("code:any,warehouseSelected:any",e,n)},createData:t}}(),n=e.createData,t=e.sellerId,r=e.tab,i=e.onTabChange,o=e.tikiReturnWarehouse,l=e.customerInformation,s=e.onSelectTikiReturnWarehouse,a=e.onSelectCustomerInformation;return(0,g.jsx)(Zd,{tab:r,tikiReturnWarehouse:o,customerInformation:l,onTabChange:i,createData:n,sellerId:t,onSelectTikiReturnWarehouse:s,onSelectCustomerInformation:a})},yd=function(e){var n=e.current,t=void 0===n?1:n;return(0,c.useCallback)((function(){switch(t){case 1:default:return(0,g.jsx)(Pa,{});case 2:return(0,g.jsx)(uc,{});case 3:return(0,g.jsx)(bd,{})}}),[t])()},wd=(0,c.memo)(yd),kd=t.p+"ee046a1046be75438e20.png",Cd=h.ZP.span(Pc||(Pc=(0,a.Z)(["\n  font-style: normal;\n  color: #262626;\n  font-weight: 600;\n  font-size: 20px ;\n"]))),Sd=function(){return(0,g.jsxs)(x.Z,{style:{display:"flex",alignItems:"center",flexDirection:"row"},gutter:12,children:[(0,g.jsx)(d.Z,{children:(0,g.jsx)("img",{src:kd,alt:"",style:{width:40,height:40}})}),(0,g.jsx)(d.Z,{children:(0,g.jsxs)(Cd,{children:[(0,v.wv)({id:"bpor.create"})," (BPOR)"]})})]})},Pd=h.ZP.div(Ic||(Ic=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0px 24px;\n"]))),Id=function(){var e,n={isVisible:(e=(0,c.useContext)(Zo)).isVisible,onCloseCreateModal:e.onCloseCreateModal,isLoading:e.isLoading,setCurrentStep:e.setCurrentStep,currentStep:e.currentStep},t=n.isVisible,r=n.onCloseCreateModal,i=n.isLoading,o=n.setCurrentStep,l=n.currentStep;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(wo.Z,{title:(0,g.jsx)(Sd,{}),visible:t,footer:(0,g.jsx)(nl,{}),onCancel:r,width:"100%",bodyStyle:{backgroundColor:"#F5F5F5",padding:0,margin:0,height:"calc(100vh - 125px)",overflowY:"scroll"},style:{maxWidth:"100vw",top:0,height:"100vh",padding:0,margin:0},children:(0,g.jsxs)(u.Z,{tip:"Loading...",spinning:i,children:[(0,g.jsxs)(Pd,{children:[(0,g.jsx)(il,{current:l,onChangeStep:o}),(0,g.jsx)(wd,{current:l})]}),(0,g.jsx)(Wo,{})]})})})},_d=function(){return(0,g.jsx)(bo,{children:(0,g.jsx)(Id,{})})},Ad=function(){var e=(0,v.LP)();return(0,g.jsx)(x.Z,{style:{display:"flex",alignItems:"center",flexDirection:"row"},gutter:12,children:(0,g.jsx)(d.Z,{children:(0,g.jsx)(si,{size:"20px",children:e({id:"Chọn sản phẩm"})})})})},Dd=h.ZP.div(_c||(_c=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  height: 50px;\n  justify-content: center;\n"]))),Ed=h.ZP.div(Ac||(Ac=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  background-color: white;\n"]))),Fd=function(e){var n=e.onClose,t=e.onSave,r=e.isCanSave,i=e.errorText,o=(0,v.LP)();return(0,g.jsxs)(Dd,{children:[i&&(0,g.jsx)(gi,{color:"red",children:i}),(0,g.jsxs)(Ed,{children:[(0,g.jsx)(j.Z,{onClick:n,children:o({id:"Huỷ"})}),(0,g.jsx)(p,{width:"12px"}),(0,g.jsx)(j.Z,{disabled:!r,onClick:t,type:"primary",children:o({id:"Đồng ý"})})]})]})},Td=h.ZP.div(Dc||(Dc=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0px 24px;\n"]))),Ld=function(e){var n=e.isVisible,t=e.sellerId,r=e.cb,i=e.onClose,o=e.items,l=function(e){var n=e.sellerId,t=e.items,r=e.onClose,i=e.cb,o=(void 0===t?[]:t).map((function(e){return e.sku})),l=(0,v.LP)(),s=n,a=(0,c.useState)(!1),d=(0,D.Z)(a,2),u=d[0],h=d[1],p=(0,c.useState)(!1),x=(0,D.Z)(p,2),f=x[0],g=x[1],m=(0,c.useState)([]),j=(0,D.Z)(m,2),Z=j[0],b=j[1],y=(0,c.useState)([]),w=(0,D.Z)(y,2),k=w[0],C=w[1],P=(0,c.useState)({name:null,code:null,sku:[],categories:null,brand:null,page:1,selectedId:s,limit:20}),I=(0,D.Z)(P,2),E=I[0],F=I[1],T=E.name,L=E.code,M=E.sku,Q=E.page,z=E.selectedId,B=E.categories,N=E.limit;(0,c.useEffect)((function(){var e=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(){var t,r,i,l,s;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),t={seller_ids:[n],skus:o},e.next=5,ge({cursor:0,dataPayload:t,limit:1e3});case 5:if(!("error"in(r=e.sent))){e.next=8;break}throw new Error(null==r||null===(i=r.error)||void 0===i?void 0:i.message);case 8:return l=(null==r?void 0:r.data)||[],s=l.map((function(e){var n,t=(0,S.Z)({},e);return t.isDisable=!(null!=t&&null!==(n=t.inventory)&&void 0!==n&&n.qty_available),t})),C(s),e.abrupt("return",g(!1));case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",g(!1));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();o&&0!==o.length&&e()}),[]),(0,c.useEffect)((function(){var e=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(){var n,t,r,i,o,l,s;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),n=(Q-1)*N,t={seller_ids:[z],name:T,seller_product_code:L,skus:M.length>0?M:null,categories:B},r=(0,ne.Hd)(t),e.next=7,ge({cursor:n,dataPayload:r,limit:N});case 7:if(!("error"in(i=e.sent))){e.next=10;break}throw new Error(null==i||null===(o=i.error)||void 0===o?void 0:o.message);case 10:return l=null==i?void 0:i.data.map((function(e){var n,t=(0,S.Z)({},e),r=null==t||null===(n=t.inventory)||void 0===n?void 0:n.qty_available;return(!r||r<=0)&&(t.isDisable=!0),t})),s={data:l,paging:{total:null==i?void 0:i.total}},b(s),e.abrupt("return",g(!1));case 16:return e.prev=16,e.t0=e.catch(0),Ze.ZP.error(e.t0.message),e.abrupt("return",g(!1));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[T,L,Q,z,M,B,g,b,N]);var Y=(0,c.useState)(!0),W=(0,D.Z)(Y,2),V=W[0],q=W[1],O=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n,t,r){var i,o,l,s,a,c,d;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("clearCate"!==n){e.next=7;break}return i=(0,S.Z)({},E),q(!1),e.next=5,(0,ne.gw)(300);case 5:return q(!0),e.abrupt("return",F((0,S.Z)((0,S.Z)({},i),{},{categories:t,page:1})));case 7:if("page"!==n){e.next=10;break}return o=(0,S.Z)({},E),e.abrupt("return",F((0,S.Z)((0,S.Z)({},o),{},{page:t,limit:r})));case 10:if("sku"!==n){e.next=13;break}return l=(0,S.Z)({},E),e.abrupt("return",F((0,S.Z)((0,S.Z)({},l),{},{sku:t,name:null,code:null,page:1})));case 13:if("name"!==n){e.next=16;break}return s=(0,S.Z)({},E),e.abrupt("return",F((0,S.Z)((0,S.Z)({},s),{},{name:t,sku:[],code:null,page:1})));case 16:if("code"!==n){e.next=19;break}return a=(0,S.Z)({},E),e.abrupt("return",F((0,S.Z)((0,S.Z)({},a),{},{code:t,sku:[],name:null,page:1})));case 19:if("categories"!==n){e.next=22;break}return c=(0,S.Z)({},E),e.abrupt("return",F((0,S.Z)((0,S.Z)({},c),{},{categories:t,page:1})));case 22:if("brand"!==n){e.next=25;break}return d=(0,S.Z)({},E),e.abrupt("return",F((0,S.Z)((0,S.Z)({},d),{},{brand:t,page:1})));case 25:return e.abrupt("return",null);case 26:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),H=(0,c.useMemo)((function(){var e=null!=Z&&Z.data?null==Z?void 0:Z.data.filter((function(e){return-1===kn()(k,(function(n){return e.sku===n.sku}))})):[];return{listProduct:(0,S.Z)((0,S.Z)({},Z),{},{data:e}),listSelected:{data:k}}}),[Z,k]),U=k.length<1001&&k.length>0,K=k.length>1e3&&l({id:"Tổng sản phẩm không được lớn hơn 1000"});return{data:H,onChangeListSelected:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;if("all"===e){var r=n.filter((function(e){return!(null!=e&&e.isDisable)}))||[],i="add"===t?[].concat((0,R.Z)(k),(0,R.Z)(r)):[];return C(i)}if("add"===e){var o=[n].concat((0,R.Z)(k));return C(o)}var l=(0,R.Z)(k),s=kn()(l,(function(e){return(null==e?void 0:e.sku)===(null==n?void 0:n.sku)}));return s>-1?(l.splice(s,1),C(l)):null},query:E,onChangeQuery:O,isVisibleImport:u,selectedId:z,isShowCate:V,onCloseImportModal:function(){return h(!1)},onOpenImportModal:function(){return h(!0)},onImportCB:function(e){h(!1);var n={},t=e.map((function(e){var t=(null==e?void 0:e.sku)||0;return n[t]=null==e?void 0:e.expected_qty,t}));Ho(),function(e){var t=function(){var t=(0,A.Z)((0,_.Z)().mark((function t(){var r,i,o,l,s,a,c;return(0,_.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,g(!0),r={seller_ids:[z],skus:e},t.next=5,ge({cursor:0,dataPayload:r,limit:1e3});case 5:if(!("error"in(i=t.sent))){t.next=8;break}throw new Error(null==i||null===(o=i.error)||void 0===o?void 0:o.message);case 8:if(l=(null==i?void 0:i.data)||[],s=l.map((function(e){var n,t=(0,S.Z)({},e),r=(null==e||null===(n=e.attributes)||void 0===n?void 0:n.shipping_weight)||0;return t.weight=r,t})),0!==e.length){t.next=12;break}return t.abrupt("return",null);case 12:return a=(0,R.Z)(k),c=s.map((function(e){var t=a.findIndex((function(n){return(null==n?void 0:n.sku)===(null==e?void 0:e.sku)}));t>-1&&a.splice(t,1);var r=(0,S.Z)({},e),i=null==r?void 0:r.sku;return r.isDisable=!r.quantity,r.valueQty=ie()(n,[i],0),r})),C([].concat((0,R.Z)(a),(0,R.Z)(c))),t.abrupt("return",null);case 18:return t.prev=18,t.t0=t.catch(0),t.abrupt("return",null);case 21:return t.prev=21,g(!1),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[0,18,21,24]])})));return function(){return t.apply(this,arguments)}}();t()}(t)},isLoading:f,isCanSave:U,errorText:K,onSave:function(){i(k),r()}}}({sellerId:t,items:void 0===o?[]:o,onClose:i,cb:r}),s=l.data,a=l.onChangeListSelected,d=l.query,h=l.onChangeQuery,p=l.selectedId,x=l.isShowCate,f=l.isVisibleImport,m=l.onOpenImportModal,j=l.onCloseImportModal,Z=l.onImportCB,b=l.isLoading,y=l.isCanSave,w=l.errorText,k=l.onSave;return(0,g.jsx)(wo.Z,{title:(0,g.jsx)(Ad,{}),visible:n,footer:(0,g.jsx)(Fd,{isCanSave:y,errorText:w,onClose:i,onSave:k}),onCancel:i,width:"90%",bodyStyle:{backgroundColor:"#F5F5F5",padding:0,overflowY:"scroll",height:"calc(100vh - 150px)",maxHeight:"95vh"},style:{maxHeight:"95vh",top:20,minWidth:"1158px"},children:(0,g.jsx)(u.Z,{tip:"Loading...",spinning:b,children:(0,g.jsx)(Td,{children:(0,g.jsx)(Sa,{onOpenImportModal:m,isShowCate:x,sellerId:p,data:s,onChangeListSelected:a,query:d,limit:null==d?void 0:d.limit,onChangeQuery:h,isVisibleImport:f,onCloseImportModal:j,onImportCB:Z})})})})},Md=h.ZP.div(Ec||(Ec=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  height: 50px;\n  justify-content: center;\n"]))),Rd=h.ZP.div(Fc||(Fc=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  background-color: white;\n"]))),Qd=h.ZP.div(Tc||(Tc=(0,a.Z)(["\n  width: 1px;\n  margin: 0 16px;\n  background-color: #d9d9d9;\n  height: 25px;\n"]))),zd=function(e){var n=e.status,t=void 0===n?{}:n,r=e.onCloseDetailModal,i=e.checkIsCanDraft,o=e.checkIsCanSave,l=e.onSubmit,s=e.isLoading,a=e.renderErrorText;if(t.isDraft){var c=i(),d=o(),u=a();return(0,g.jsxs)(Md,{children:[u&&(0,g.jsx)(bi,{style:{color:"red",display:"block",marginBottom:5},children:u}),(0,g.jsxs)(Rd,{children:[(0,g.jsx)(j.Z,{danger:!0,children:(0,v.wv)({id:"Xoá"})}),(0,g.jsx)(Qd,{}),(0,g.jsx)(j.Z,{onClick:function(){return l(!0)},style:{borderColor:c?"#40a9ff":"",color:c?"#40a9ff":""},disabled:!c||s,children:(0,v.wv)({id:"Lưu nháp"})}),(0,g.jsx)(p,{width:"16px"}),(0,g.jsx)(j.Z,{onClick:function(){return l(!1)},style:{borderColor:d?"#40a9ff":"",color:d?"#40a9ff":""},disabled:!d||s,children:(0,v.wv)({id:"Xác nhận"})})]})]})}return(0,g.jsx)(Md,{children:(0,g.jsx)(Rd,{children:(0,g.jsx)(j.Z,{onClick:r,children:(0,v.wv)({id:"Đóng"})})})})},Bd=t(28303),Nd=h.ZP.div(Lc||(Lc=(0,a.Z)(["\n  background-color: #E6F7FF;\n  border: 1px solid #91D5FF;\n  padding: 16px 24px  ;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n\n"]))),Yd=(0,h.ZP)(pl.Z)(Mc||(Mc=(0,a.Z)(["\n  color: #1890FF;\n  font-size: 21px;\n"]))),Wd=function(){return(0,g.jsxs)(Nd,{style:{marginLeft:0,marginRight:0},children:[(0,g.jsx)("div",{style:{marginRight:12},children:(0,g.jsx)(Yd,{})}),(0,g.jsxs)("div",{style:{flex:1},children:[(0,g.jsx)(ui,{style:{display:"block",marginBottom:6},children:(0,v.wv)({id:"Hướng dẫn"})}),(0,g.jsxs)(bi,{style:{display:"block"},children:[(0,g.jsx)(ji,{size:"6px",children:"●"})," ",(0,g.jsx)(gi,{style:{textDecoration:"underline"},children:(0,v.wv)({id:"Bước 1"})}),":  ",(0,g.jsx)(v.qt,{id:"bpor.title_detai_step1"}),(0,g.jsxs)(Pi,{target:"_blank",children:[" [",(0,v.wv)({id:"bpor.title_detai_step1.1"}),"]"]})]}),(0,g.jsxs)(bi,{style:{display:"block"},children:[(0,g.jsx)(ji,{size:"6px",children:"●"})," ",(0,g.jsx)(gi,{style:{textDecoration:"underline"},children:(0,v.wv)({id:"Bước 2"})}),":  ",(0,g.jsx)(v.qt,{id:"bpor.title_detai_step2"})," ",(0,g.jsxs)(Bd.rU,{to:"",target:"_blank",children:["[",(0,v.wv)({id:"bpor.title_detai_step2.1"}),"]"]})]})]})]})},Vd=h.ZP.div(Rc||(Rc=(0,a.Z)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: ",";\n    height: ",";\n    width: ",";\n    border-radius: ",";\n"])),(function(e){return e.bgColor}),(function(e){return"".concat(e.size,"px")}),(function(e){return"".concat(e.size,"px")}),(function(e){return"".concat(e.size/2,"px")})),qd=function(e){var n=e.size,t=void 0===n?32:n,r=e.src,i=e.bgColor,o=void 0===i?"#E6F7FF":i,l=e.style,s=void 0===l?{}:l;return(0,g.jsx)(Vd,{size:t+12,bgColor:o,style:s,children:(0,g.jsx)("img",{height:t,width:t,src:r,alt:""})})},Od=t(12019),Hd=t(31741),Ud=I.Z.Option,Kd=h.ZP.div(Qc||(Qc=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n"]))),Jd=function(e){var n=e.isMweb,t=e.children,r=e.isShowPopup,i=e.setIsShowPopup,o=e.onClosePopup,l=e.value,s=e.values,a=void 0===s?[]:s,c=e.onChangeInput,d=(0,v.LP)();return(0,g.jsx)(bn.Z,{visible:r,title:function(){return(0,g.jsx)("p",{children:d({id:"Chọn kho hàng"})})},overlayStyle:{width:264},content:(0,g.jsx)(Gd,{value:l,onClosePopup:o,onChangeInput:c,values:a}),onVisibleChange:i,trigger:"click",placement:n?"left":"right",children:t})},Gd=(h.ZP.div(zc||(zc=(0,a.Z)(["\n  background-color:#E6F7FF;\n  border-radius:2px ;\n  padding: 5px 12px;\n  margin-bottom: 12px ;\n"]))),function(e){var n=e.onClosePopup,t=e.value,r=e.onChangeInput,i=e.values,o=(0,v.LP)(),l=(0,c.useState)(t),s=(0,D.Z)(l,2),a=s[0],d=s[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ui,{style:{fontSize:"14px"},children:o({id:"Chọn kho để đến rút hàng"})}),(0,g.jsx)(p,{height:"6px"}),(0,g.jsx)(I.Z,{value:a,placeholder:o({id:"Chọn"}),style:{width:"100%"},onChange:function(e){d(e)},children:i.map((function(e){return(0,g.jsxs)(Ud,{value:null==e?void 0:e.code,children:[o({id:"Kho"})," ",null==e?void 0:e.code.toUpperCase()]},null==e?void 0:e.code)}))}),(0,g.jsx)(p,{height:"6px"}),(0,g.jsx)(p,{height:"16px"}),(0,g.jsxs)(Kd,{children:[(0,g.jsx)(j.Z,{onClick:n,children:o({id:"Huỷ"})}),(0,g.jsx)(p,{width:"8px"}),(0,g.jsx)(j.Z,{type:"primary",onClick:function(){n(),r(a)},children:o({id:"Gửi"})})]})]})}),Xd=h.ZP.div(Bc||(Bc=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n"]))),$d=function(e){var n=e.isMweb,t=e.children,r=e.isShowPopup,i=e.setIsShowPopup,o=e.onClosePopup,l=e.value,s=e.onChangeInput,a=(0,v.LP)();return(0,g.jsx)(bn.Z,{visible:r,title:function(){return(0,g.jsx)("p",{children:a({id:"Nhập ghi chú"})})},overlayStyle:{width:264},content:(0,g.jsx)(eu,{value:l,onClosePopup:o,onChangeInput:s}),onVisibleChange:i,trigger:"click",placement:n?"left":"right",children:t})},eu=function(e){var n=e.onClosePopup,t=e.value,r=e.onChangeInput,i=(0,v.LP)(),o=(0,c.useState)(t),l=(0,D.Z)(o,2),s=l[0],a=l[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ui,{style:{fontSize:"14px"},children:i({id:"Ghi chú"})}),(0,g.jsx)(p,{height:"6px"}),(0,g.jsx)(qi.Z.TextArea,{value:s,placeholder:i({id:"Nếu có yêu cầu gì đặc biệt vui lòng cho Tiki biết nhé!"}),style:{width:"100%"},onChange:function(e){var n,t=((null==e||null===(n=e.target)||void 0===n?void 0:n.value)||"").replaceAll(" ","");a(t)}}),(0,g.jsx)(p,{height:"16px"}),(0,g.jsxs)(Xd,{children:[(0,g.jsx)(j.Z,{onClick:n,children:i({id:"Huỷ"})}),(0,g.jsx)(p,{width:"8px"}),(0,g.jsx)(j.Z,{type:"primary",onClick:function(){n(),r(s)},children:i({id:"Gửi"})})]})]})},nu=h.ZP.div(Nc||(Nc=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n"]))),tu=function(e){var n=e.isMweb,t=e.children,r=e.isShowPopup,i=e.setIsShowPopup,o=e.onClosePopup,l=e.value,s=e.onChangeInput,a=(0,v.LP)();return(0,g.jsx)(bn.Z,{visible:r,title:function(){return(0,g.jsx)("p",{children:a({id:"Mã tham chiếu nhà bán"})})},overlayStyle:{width:264},content:(0,g.jsx)(ru,{value:l,onClosePopup:o,onChangeInput:s}),onVisibleChange:i,trigger:"click",placement:n?"left":"right",children:t})},ru=function(e){var n=e.onClosePopup,t=e.value,r=e.onChangeInput,i=(0,v.LP)(),o=(0,c.useState)(t),l=(0,D.Z)(o,2),s=l[0],a=l[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(qi.Z,{value:s,placeholder:i({id:"Nhập mã tham chiếu nhà bán"}),style:{width:"100%"},onChange:function(e){var n,t=((null==e||null===(n=e.target)||void 0===n?void 0:n.value)||"").replaceAll(" ","");a(t)}}),(0,g.jsx)(p,{height:"16px"}),(0,g.jsxs)(nu,{children:[(0,g.jsx)(j.Z,{onClick:n,children:i({id:"Huỷ bỏ"})}),(0,g.jsx)(p,{width:"8px"}),(0,g.jsx)(j.Z,{type:"primary",onClick:function(){n(),r(s)},children:i({id:"Lưu"})})]})]})},iu="https://salt.tikicdn.com/ts/tmp/9a/b3/5a/9fcb68d774e82c77fef447c9068bcc6e.png",ou="https://salt.tikicdn.com/ts/tmp/8c/b0/f8/9428ecfca38e90d7a5fef587e3f7719e.png",lu="https://salt.tikicdn.com/ts/tmp/be/72/e3/1abca5059ec7c36e999e6b7aa0645d5f.png",su="https://salt.tikicdn.com/ts/tmp/f0/c9/e4/8dc188accfca9db77b8748a5ee39f7d9.png",au=h.ZP.div(Yc||(Yc=(0,a.Z)(["\n  background-color: white;\n  padding: 0;\n"]))),cu=h.ZP.div(Wc||(Wc=(0,a.Z)(["\n  min-height: 60px;\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  border-bottom: 1px solid #d9d9d9;\n  padding: 0 24px;\n"]))),du=h.ZP.div(Vc||(Vc=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  flex: 1;\n"]))),uu=h.ZP.div(qc||(qc=(0,a.Z)(["\n  padding: 16px 12px;\n"]))),hu=h.ZP.div(Oc||(Oc=(0,a.Z)(["\n  padding: 0 12px;\n"]))),pu=h.ZP.div(Hc||(Hc=(0,a.Z)(["\n  background-color: #e6f7ff;\n  padding: 12px;\n"]))),xu=function(e){var n=e.record,t=e.status,r=void 0===t?{}:t,i=e.warehouse,o=void 0===i?[]:i,l=e.onSaveInput,s=(0,v.LP)(),a=r.isDraft,c=r.isCancel,d=r.isLiquidated,u=r.isReadyToReturn,h=r.isShow10day,f=r.isSuccess,m=r.isWaitingConfirm,j=r.isWaitingPreparing,b=r.onClosePopup,y=r.onShowPopup,w=r.popupName,k=r.setPopupName;return a?(0,g.jsxs)(au,{children:[(0,g.jsx)(cu,{children:(0,g.jsxs)(ci,{children:[s({id:"Mã phiếu"}),": ",null==n?void 0:n.code]})}),(0,g.jsxs)(uu,{children:[(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"12px"}),(0,g.jsxs)(hu,{children:[(0,g.jsxs)(x.Z,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,g.jsxs)(x.Z,{style:{display:"flex",flexDirection:"row",alignItems:"center",flex:1,justifyContent:"space-between"},children:[(0,g.jsx)(fu,{icon:iu,title:s({id:"Kho đến rút hàng"})}),(0,g.jsx)(wi,{size:"14px",onClick:function(){return y(eo)},children:s({id:"Thay đổi"})})]}),(0,g.jsx)(Jd,{values:o,onClosePopup:b,isShowPopup:w===eo,setIsShowPopup:k,value:null==n?void 0:n.warehouse_code,onChangeInput:function(e){return l({warehouseCode:e})}})]}),(0,g.jsx)(p,{height:"8px"}),(0,g.jsxs)(ui,{children:[s({id:"Kho"})," ",(null==n?void 0:n.warehouse_code)&&(null==n?void 0:n.warehouse_code.toUpperCase())]})]})]}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"12px"}),(0,g.jsxs)(hu,{children:[(0,g.jsx)(fu,{icon:lu,title:s({id:"Mã phiếu rút nhà bán"})}),(0,g.jsx)(p,{height:"8px"}),null!=n&&n.reference_code?(0,g.jsxs)(pi,{style:{display:"block"},children:[null==n?void 0:n.reference_code," ",(0,g.jsx)(wi,{onClick:function(){return y(Gi)},children:(0,g.jsx)(Od.Z,{})})]}):(0,g.jsxs)(wi,{size:"14px",onClick:function(){return y(Gi)},children:[(0,g.jsx)(Z.Z,{style:{marginRight:5}})," ",s({id:"Thêm mã phiếu"})]}),(0,g.jsx)(tu,{onClosePopup:b,isShowPopup:w===Gi,setIsShowPopup:k,value:null==n?void 0:n.reference_code,onChangeInput:function(e){return l({referenceCode:e})}})," "]})]}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"12px"}),(0,g.jsxs)(hu,{children:[(0,g.jsx)(fu,{icon:ou,title:s({id:"Ghi chú"})}),(0,g.jsx)(p,{height:"8px"}),null!=n&&n.note?(0,g.jsxs)(pi,{style:{display:"block"},children:[null==n?void 0:n.note," ",(0,g.jsx)(wi,{onClick:function(){return y($i)},children:(0,g.jsx)(Od.Z,{})})]}):(0,g.jsxs)(wi,{size:"14px",onClick:function(){return y($i)},children:[(0,g.jsx)(Z.Z,{style:{marginRight:5}})," ",s({id:"Thêm ghi chú"})]}),(0,g.jsx)($d,{onClosePopup:b,isShowPopup:w===$i,setIsShowPopup:k,value:null==n?void 0:n.note,onChangeInput:function(e){return l({note:e})}})]})]})]})]}):(0,g.jsxs)(au,{children:[(0,g.jsx)(cu,{children:(0,g.jsxs)(ci,{children:[s({id:"Mã phiếu"}),": ",null==n?void 0:n.code]})}),(0,g.jsxs)(uu,{children:[u&&(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(pu,{children:[(0,g.jsx)(x.Z,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,g.jsxs)(x.Z,{style:{display:"flex",flexDirection:"row",alignItems:"center",flex:1},children:[(0,g.jsx)("img",{alt:"",src:su,style:{width:25,height:25}}),(0,g.jsx)(p,{width:"5px"}),(0,g.jsx)(ji,{size:"14px",children:s({id:"Thời gian rút hàng"})}),(0,g.jsx)(du,{children:(0,g.jsx)(pi,{children:(0,g.jsx)("a",{onClick:function(){return y(Xi)},children:s({id:"Hẹn ngày lấy hàng"})})})}),(0,g.jsx)(Ui,{onClosePopup:b,isShowPopup:w===Xi,setIsShowPopup:k,value:null==n?void 0:n.reference_code,onChangeInput:function(e){}})]})}),(0,g.jsx)(p,{height:"4px"}),(0,g.jsx)(Bn.Z,{style:{borderRadius:10,backgroundColor:"#ffffff",borderColor:"#91d5ff"},children:(0,g.jsxs)(ji,{size:"14px",color:"#1890ff",children:[" ",s({id:"Thời gian thanh lý"}),":"," ",(null==n?void 0:n.created_at)&&Qn().unix(n.created_at).format("DD/MM/YYYY - HH:mm:ss")," "]})}),h&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"6px"}),(0,g.jsxs)(Bn.Z,{color:"error",style:{borderRadius:10},children:[(0,g.jsx)(Vi.Z,{})," ",s({id:"Còn lại 10 ngày"})]}),(0,g.jsx)(pi,{children:s({id:"nữa hàng sẽ bị thanh lý"})}),(0,g.jsxs)(pi,{style:{display:"block"},color:"#BFBFBF",children:["(",s({id:"Đã gửi yêu cầu gia hạn"}),")"]})]}),(0,g.jsx)(p,{height:"5px"})]})}),f&&(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(pu,{children:[(0,g.jsx)(x.Z,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,g.jsxs)(x.Z,{style:{display:"flex",flexDirection:"row",alignItems:"center",flex:1},children:[(0,g.jsx)("img",{alt:"",src:su,style:{width:25,height:25}}),(0,g.jsx)(p,{width:"5px"}),(0,g.jsx)(ji,{size:"14px",children:s({id:"Thời gian rút hàng"})})]})}),(0,g.jsx)(p,{height:"4px"}),(0,g.jsx)(Bn.Z,{style:{borderRadius:10,backgroundColor:"#ffffff",borderColor:"#91d5ff"},children:(0,g.jsxs)(ji,{size:"14px",color:"#1890ff",children:[" ",s({id:"Hoàn thành lúc"}),":"," ",(null==n?void 0:n.created_at)&&Qn().unix(n.created_at).format("DD/MM/YYYY - HH:mm:ss")," "]})}),(0,g.jsx)(p,{height:"5px"})]})}),c&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"12px"}),(0,g.jsxs)(hu,{children:[(0,g.jsx)(fu,{icon:ou,title:s({id:"Lý do thất bại"})}),(0,g.jsx)(p,{height:"8px"}),(0,g.jsx)(pi,{style:{textDecoration:"underline"},children:s({id:"Lý do"})}),": ","record?.reason"]})]}),(!m||j||u||c||d)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"12px"}),(0,g.jsxs)(hu,{children:[(0,g.jsx)(fu,{icon:iu,title:s({id:"Kho đến rút hàng"})}),(0,g.jsx)(p,{height:"8px"}),(0,g.jsxs)(ui,{children:[s({id:"Kho"})," ",(null==n?void 0:n.warehouse_code)&&(null==n?void 0:n.warehouse_code.toUpperCase())]}),(0,g.jsxs)(pi,{style:{display:"block"},children:[(0,g.jsx)(pi,{style:{textDecoration:"underline"},children:s({id:"Địa chỉ"})}),": ","addressGet"]}),(0,g.jsxs)(pi,{style:{display:"block"},children:[(0,g.jsx)(pi,{style:{textDecoration:"underline"},children:s({id:"Nguòi đại diện"})}),": ","contactGet"]})]})]}),(!m||j||u||c||d)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"12px"}),(0,g.jsxs)(hu,{children:[(0,g.jsx)(fu,{icon:"https://salt.tikicdn.com/ts/tmp/57/c0/ac/4e6d5e776f985b3757455036742be23d.png",title:s({id:"Thông tin người rút hàng"})}),(0,g.jsx)(p,{height:"8px"}),(0,g.jsxs)(pi,{style:{display:"block"},children:[(0,g.jsx)(pi,{style:{textDecoration:"underline"},children:s({id:"Người uỷ quyền"})}),": ","addressGet"]}),(0,g.jsx)(pi,{style:{display:"block"},children:(0,g.jsxs)("a",{children:[(0,g.jsx)(Hd.Z,{})," ",s({id:"Xem chi tiết"})]})})]})]}),(!m||j||u||c||d)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"12px"}),(0,g.jsxs)(hu,{children:[(0,g.jsx)(fu,{icon:lu,title:s({id:"Mã tham chiếu"})}),(0,g.jsx)(p,{height:"8px"}),(0,g.jsx)(pi,{style:{display:"block"},children:"Ma tham chieu"})]})]}),(!m||j||u||c||d)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"12px"}),(0,g.jsxs)(hu,{children:[(0,g.jsx)(fu,{icon:ou,title:s({id:"Ghi chú"})}),(0,g.jsx)(p,{height:"8px"}),(0,g.jsx)(pi,{style:{display:"block"},children:"note"})]})]})]})]})},fu=function(e){var n=e.icon,t=e.title;return(0,g.jsxs)(x.Z,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,g.jsx)(qd,{src:n,size:15}),(0,g.jsx)(p,{width:"8px"}),(0,g.jsx)(ji,{size:"14px",children:t})]})},vu=t(31774),gu=h.ZP.div(Uc||(Uc=(0,a.Z)(["\n  min-height: 70px;\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  border-bottom: 1px solid #d9d9d9;\n  padding: 0 24px;\n"]))),mu=h.ZP.div(Kc||(Kc=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),ju=h.ZP.div(Jc||(Jc=(0,a.Z)(["\n  align-items: center;\n  flex-direction: row;\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n"]))),Zu=function(e){var n=e.status,t=void 0===n?{}:n,r=e.onOpenImportProductModal,i=t.isDraft,o=t.isCancel,l=t.isLiquidated,s=t.isReadyToReturn,a=t.isSuccess,c=t.isWaitingConfirm,d=t.isWaitingPreparing;return(0,g.jsxs)(gu,{children:[(0,g.jsx)(mu,{children:(0,g.jsx)(ci,{style:{display:"block"},children:(0,v.wv)({id:"bpor.detail.title"})})}),(0,g.jsxs)(ju,{children:[(i||c||d||s||o||a||l)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(j.Z,{children:[(0,g.jsx)(Ur.Z,{style:{marginRight:5}}),(0,v.wv)({id:"Xuất danh sách sản phẩm"})]}),(0,g.jsx)(p,{width:"12px"})]}),s&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(j.Z,{type:"primary",children:[(0,g.jsx)(vu.Z,{style:{marginRight:5}}),(0,v.wv)({id:"In phiếu rút hàng"})]}),(0,g.jsx)(p,{width:"12px"})]}),s&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(j.Z,{type:"primary",children:[(0,g.jsx)(vu.Z,{style:{marginRight:5}}),(0,v.wv)({id:"In uỷ quyền"})]}),(0,g.jsx)(p,{width:"12px"})]}),i&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(j.Z,{onClick:r,type:"primary",children:[(0,g.jsx)(Z.Z,{style:{marginRight:5}}),(0,v.wv)({id:"Chọn sản phẩm"})]}),(0,g.jsx)(p,{width:"12px"})]})]})]})},bu=h.ZP.div(Gc||(Gc=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 41;\n  width: 41;\n"]))),yu=h.ZP.div(Xc||(Xc=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n"]))),wu=h.ZP.div($c||($c=(0,a.Z)(["\n  margin-left: 8px;\n"]))),ku=function(e){var n,t,r,i=e.record,o=void 0===i?{}:i,l=null!=o&&o.thumbnail?aa(null==o?void 0:o.thumbnail):"error",s=ie()(o,["attributes","catalog_group_name"],""),a=(0,v.LP)();return(0,g.jsxs)(yu,{children:[(0,g.jsx)(bu,{children:(0,g.jsx)(bs.Z,{width:40,height:40,src:l,fallback:ca})}),(0,g.jsxs)(wu,{children:[(0,g.jsx)(Ql,{fullText:null==o?void 0:o.name,children:(0,g.jsx)(ui,{style:{display:"block",fontWeight:"600"},children:null==o?void 0:o.name})}),(0,g.jsxs)(pi,{style:{display:"block"},children:["".concat(a({id:"bpor.category"}),":  ").concat(s),(null==o||null===(n=o.brand)||void 0===n?void 0:n.value)&&" | ".concat(a({id:"bpor.trademark"}),": ").concat(null==o||null===(t=o.brand)||void 0===t?void 0:t.value)]}),(0,g.jsxs)(pi,{children:["SKU: ",null==o?void 0:o.sku," |"," ",(null==o?void 0:o.seller_product_code)&&"".concat(a({id:"bpor.product_code"}),": ").concat(null==o?void 0:o.seller_product_code," | "),(0,g.jsxs)(pi,{color:"orange",children:[a({id:"bpor.inventory"}),": ",(null==o||null===(r=o.inventory)||void 0===r?void 0:r.qty_available)||0]})]})]})]})},Cu=h.ZP.div(ed||(ed=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n"]))),Su=h.ZP.div(nd||(nd=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),Pu=h.ZP.div(td||(td=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n"]))),Iu=h.ZP.div(rd||(rd=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n  height: 32px;\n  margin-left: 8px;\n"]))),_u=(0,h.ZP)(qi.Z)(id||(id=(0,a.Z)(["\n  width: 144px;\n  height: 32px;\n  text-align: end;\n  border: ",";\n  :focus {\n    border: ",";\n  }\n  :hover {\n    border: ",";\n  }\n"])),(function(e){return(null==e?void 0:e.isError)&&"1px solid red"}),(function(e){return(null==e?void 0:e.isError)&&"1px solid red"}),(function(e){return(null==e?void 0:e.isError)&&"1px solid red"})),Au=h.ZP.div(od||(od=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  border: ",";\n  border-left: 0px;\n  cursor: ",";\n  background-color: ",";\n  :hover {\n    border: ",";\n  }\n  height: 32px;\n  width: 30px;\n"])),(function(e){return null!=e&&e.isError?"1px solid red":"1px solid #d9d9d9"}),(function(e){return e.isDisable&&"not-allowed"}),(function(e){return e.isDisable&&"#F5F5F5"}),(function(e){return e.isDisable||e.isError?"":"1px solid #1890ff"})),Du=h.ZP.div(ld||(ld=(0,a.Z)(["\n  flex: 1;\n  border-bottom: ",";\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.top&&"1px solid #d9d9d9"})),Eu=F()((function(e,n){return e(n)}),700),Fu=function(e){var n=e.record,t=e.warehouse,r=e.isDisable,i=e.availableQuantity,o=e.onChangeValueListSelected,l=(0,v.LP)(),s=Ma(null==t?void 0:t.code,n),a=s.valueInit,d=s.sku,u=s.weight,h=(0,c.useState)(),x=(0,D.Z)(h,2),f=x[0],m=x[1];if((0,c.useEffect)((function(){m(a)}),[a]),r)return(0,g.jsx)(fi,{style:{display:"block"},children:l({id:"bpor.create.step2.empty_product"})});var j=function(e){Oo(null==e?void 0:e.warehouseCode,null==e?void 0:e.sku,null==e?void 0:e.value,null==e?void 0:e.weight,void 0),o({sku:null==e?void 0:e.sku,value:null==e?void 0:e.value})},Z=f&&0!==f?parseFloat((parseInt(f,10)*parseFloat(u)).toString()).toFixed(2):0;return(0,g.jsx)(Cu,{children:(0,g.jsxs)(Su,{children:[(0,g.jsxs)(Pu,{children:[(0,g.jsx)(_u,{onChange:function(e){var n,r=(null==e||null===(n=e.target)||void 0===n?void 0:n.value)||0;if(!Number.isNaN(r)&&r<=i){var o={value:parseInt(r,10),sku:d,weight:u,warehouseCode:null==t?void 0:t.code};Eu(j,o),m(r)}},value:f}),(0,g.jsx)(Tu,{onChangeValue:function(e,n){try{if(r)return;if(e>i&&!n)return;var o={value:e,sku:d,weight:u,warehouseCode:null==t?void 0:t.code};Eu(j,o),m(e)}catch(e){}},value:f}),u&&(0,g.jsx)(Lu,{value:Z})]}),(0,g.jsx)(p,{height:"5px"}),(0,g.jsx)(fi,{style:{display:"block"},children:"".concat(l({id:"bpor.create.step2.can_withdraw"}),": <=").concat(i)})]})})},Tu=function(e){var n=e.onChangeValue,t=e.value,r=e.isDisable,i=e.isError,o=parseInt(t,10);return(0,g.jsxs)(Au,{isDisable:r,isError:i,children:[(0,g.jsx)(Du,{top:!0,onClick:function(){return n(o+1)},children:(0,g.jsx)(La.Z,{style:{fontSize:8}})}),(0,g.jsx)(Du,{onClick:function(){return n(0===o?0:o-1,!0)},children:(0,g.jsx)(yn.Z,{style:{fontSize:8}})})]})},Lu=function(e){var n=e.value,t=void 0===n?0:n;return(0,g.jsx)(Iu,{children:(0,g.jsxs)(fi,{children:["(",t," kg)"]})})},Mu=h.ZP.div(sd||(sd=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n"]))),Ru=h.ZP.div(ad||(ad=(0,a.Z)(["\n  display: flex;\n"]))),Qu=function(e){var n=e.total,t=(0,v.LP)();return(0,g.jsxs)(Mu,{children:[t({id:"bpor.sum.total"}),":"," ",(0,g.jsxs)("b",{children:[n," ",t({id:"bpor.sum.product"})]})]})},zu=function(e){var n=function(e){for(var n=Uo(),t=0,r=0,i=!0,o=ie()(n,[e],{}),l=0,s=Object.entries(o);l<s.length;l++){var a=(0,D.Z)(s[l],2),c=(a[0],a[1]),d=null==c?void 0:c.value,u=null==c?void 0:c.weight;t=d+t,!u&&d?i=!1:u&&i&&(r+=parseFloat((u*d).toString()))}return{isVisibleWeight:i,total:t,totalWeight:r}}(e.warehouseCode),t=n.isVisibleWeight,r=n.total,i=n.totalWeight,o=(0,v.LP)();return(0,g.jsxs)(Ru,{children:[o({id:"bpor.number"})," ",(0,g.jsxs)("b",{style:{marginLeft:4},children:[r,t&&"(".concat(i,"kg)")]})]})},Bu=function(e){var n=e.items,t=void 0===n?[]:n,r=e.warehouse,i=e.onChangeValueItem,o=e.onRemoveItem;return[{title:function(){return(0,g.jsx)(gi,{fontWeight:"600",children:(0,v.wv)({id:"STT"})})},dataIndex:"stt",with:"7%",align:"center",key:"stt",render:function(e,n,t){return null!=n&&n.isSum?null:(0,g.jsx)("p",{children:t})}},{title:function(){return(0,g.jsx)(gi,{fontWeight:"600",children:(0,v.wv)({id:"Sản phẩm"})})},width:"60%",dataIndex:"name",key:"name",render:function(e,n){return null!=n&&n.isSum?(0,g.jsx)(Qu,{total:t.length}):(0,g.jsx)(ku,{record:n})}},{title:function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(gi,{style:{display:"block"},fontWeight:"600",children:(0,v.wv)({id:"Số lượng rút kho dự kiến"})})})},width:"25%",key:"sl",render:function(e,n){if(null!=n&&n.isSum)return(0,g.jsx)(zu,{warehouseCode:null==r?void 0:r.code});var t=Ka(null==n?void 0:n.sku,r),o=t.availableQuantity,l=t.isDisable;return(0,g.jsx)(Fu,{record:n,warehouse:r,isDisable:l,availableQuantity:o,onChangeValueListSelected:i})}},{title:function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(gi,{style:{display:"block"},fontWeight:"600",children:(0,v.wv)({id:"bpor.manipulation"})})})},width:"10%",key:"sl",align:"center",render:function(e,n){return null!=n&&n.isSum?null:(0,g.jsx)(Nu,{record:n,action:o})}}]},Nu=function(e){var n=e.record,t=e.action;return(0,g.jsx)(ks.Z,{onClick:function(){return t(n)},style:{color:"red",fontSize:20,cursor:"pointer"}})},Yu=(0,h.ZP)(Hr.Z)(cd||(cd=(0,a.Z)(["\n  &&& .ant-table {\n    .ant-table-container {\n      border-left: 1px solid #d9d9d9;\n      border-top: 1px solid #d9d9d9;\n    }\n    & .ant-table-thead > tr:nth-child(1) > th.ant-table-cell:nth-child(3) {\n      border-left: 1px solid #d9d9d9;\n    }\n    & .ant-table-thead > tr > th.ant-table-cell {\n      background-color: #f5f5f5;\n      border-bottom: 1px solid #d9d9d9;\n      border-right: 1px solid #d9d9d9;\n    }\n    & .ant-table-tbody > tr > td.ant-table-cell {\n      border-right: 1px solid #d9d9d9;\n      border-bottom: 1px solid #d9d9d9;\n    }\n    & .ant-table-tbody > tr > td.ant-table-cell:last-child {\n      border-right: 1px solid #d9d9d9;\n      border-bottom: 1px solid #d9d9d9;\n      border-left: 1px solid #d9d9d9;\n    }\n\n    & .ant-table-tbody > tr:nth-child(1) td {\n      background-color: #e6f7ff;\n    }\n  }\n"]))),Wu=function(e){var n=e.items,t=void 0===n?[]:n,r=e.isLoading,i=e.warehouse,o=e.record,l=e.onChangeValueItem,s=e.onRemoveItem,a=Vu({items:t}),c=i.find((function(e){return(null==e?void 0:e.code)===(null==o?void 0:o.warehouse_code)}));return(0,g.jsx)(u.Z,{spinning:r,children:(0,g.jsx)(Yu,{dataSource:a,columns:Bu({items:t,warehouse:c,onChangeValueItem:l,onRemoveItem:s}),bordered:!0,rowKey:"product_sku",pagination:!1})})},Vu=function(e){var n=e.items,t=void 0===n?[]:n;return[{isSum:!0}].concat((0,R.Z)(t))},qu=h.ZP.div(dd||(dd=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 41;\n  width: 41;\n"]))),Ou=function(e){var n=e.status;return[{title:function(){return(0,g.jsx)(gi,{fontWeight:"600",children:(0,v.wv)({id:"STT"})})},dataIndex:"stt",with:"7%",align:"center",key:"stt",render:function(e,n,t){return null!=n&&n.total?null:(0,g.jsx)("p",{children:t})}},{title:function(){return(0,g.jsx)(gi,{fontWeight:"600",children:(0,v.wv)({id:"Sản phẩm"})})},width:"60%",dataIndex:"name",key:"name",render:function(e,n){return null!=n&&n.total?(0,g.jsxs)(gi,{children:[(0,v.wv)({id:"Tổng cộng"}),": ",null==n?void 0:n.total," ",(0,v.wv)({id:"sản phẩm"})]}):(0,g.jsx)(Uu,{record:n})}},{title:function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(gi,{style:{display:"block"},fontWeight:"600",children:(0,v.wv)({id:"Số lượng"})})})},width:"22%",key:"sl",render:function(e,t){return null!=t&&t.total?(0,g.jsxs)(gi,{children:[(0,v.wv)({id:"Số lượng"}),": ",null==t?void 0:t.totalUnit]}):(0,g.jsx)(Ku,{record:t,status:n})}},{title:function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(gi,{style:{display:"block"},fontWeight:"600",children:(0,v.wv)({id:"Ghi chú"})})})},width:"18%",key:"sl",render:function(e,n){return null!=n&&n.total?null:(0,g.jsx)(Hu,{record:n})}}]},Hu=function(e){var n=e.record;return(0,g.jsxs)(g.Fragment,{children:[(null==n?void 0:n.note)&&(0,g.jsx)("span",{style:{display:"block"},children:null==n?void 0:n.note}),n.rejected_reason&&n.rejected_reason.length>0&&(0,g.jsxs)("span",{style:{display:"block"},children:[(0,v.wv)({id:"Lý do huỷ"}),":"," ",n.rejected_reason.map((function(e,n){return(0,g.jsxs)("span",{children:[0!==n&&(0,g.jsx)("span",{children:", "}),e]})}))]})]})},Uu=function(e){var n=e.record,t=(0,v.LP)();return(0,g.jsxs)(Ju,{children:[(0,g.jsx)(qu,{children:(0,g.jsx)(bs.Z,{width:40,height:40,src:null==n?void 0:n.product_image,fallback:ca})}),(0,g.jsxs)(Gu,{children:[(0,g.jsx)(Ql,{fullText:null==n?void 0:n.product_name,children:(0,g.jsx)(ui,{style:{display:"block",fontWeight:"600"},children:null==n?void 0:n.product_name})}),(0,g.jsxs)(pi,{children:["SKU: ",null==n?void 0:n.product_sku," - ".concat(t({id:"bpor.order_code"}),": ").concat(null==n?void 0:n.product_unit," ")]})]})]})},Ku=function(e){var n=e.record,t=e.status,r=void 0===t?{}:t,i=r.isSuccess,o=r.isLiquidated,l=(null==n?void 0:n.expected_qty)||0,s=(null==n?void 0:n.actualQty)||0,a=l-s;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(lo,{title:(0,v.wv)({id:"Yêu cầu"}),value:l}),(0,g.jsx)(p,{height:"5px"}),(0,g.jsx)(lo,{title:(0,v.wv)({id:"Có thể xuất"}),value:s}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"5px"}),(0,g.jsx)(lo,{title:(0,v.wv)({id:"Thực nhận"}),value:s})]}),i&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"5px"}),(0,g.jsx)(lo,{title:(0,v.wv)({id:"Chênh lệch"}),value:a,color:"red"})]}),o&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p,{height:"5px"}),(0,g.jsx)(lo,{title:(0,v.wv)({id:"Dã thanh lý"}),value:a,color:"red"})]})]})},Ju=h.ZP.div(ud||(ud=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n"]))),Gu=h.ZP.div(hd||(hd=(0,a.Z)(["\n  margin-left: 8px;\n"]))),Xu=h.ZP.div(pd||(pd=(0,a.Z)(["\n  background-color: white;\n  padding: 24px;\n"]))),$u=(0,h.ZP)(Hr.Z)(xd||(xd=(0,a.Z)(["\n  &&& .ant-table {\n    & .ant-table-thead > tr > th.ant-table-cell {\n      background-color: #f5f5f5;\n    }\n    & .ant-table-tbody > tr:nth-child(1) td {\n      background-color: #e6f7ff;\n    }\n  }\n"]))),eh=function(e){var n=e.record,t=void 0===n?{}:n,r=e.status,i=void 0===r?{}:r,o=e.onChangeValueItem,l=e.onRemoveItem,s=e.items,a=e.isLoadingDraft,d=e.warehouse,u=i.isDraft,h=t.items,p=void 0===h?[]:h,x=(0,c.useMemo)((function(){var e=0;return p.forEach((function(n){e+=(null==n?void 0:n.expected_qty)||0})),[{total:p.length,totalUnit:e}].concat((0,R.Z)(p))}),[p]);return(0,g.jsx)(Xu,{children:u?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(Wu,{onChangeValueItem:o,onRemoveItem:l,items:s,isLoading:a,record:t,warehouse:d})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)($u,{dataSource:x,columns:Ou({status:i}),bordered:!0,rowKey:"product_sku",pagination:!1})})})},nh=t(83999),th=nh.Z.Step,rh=function(e){var n=e.histories;if(!n)return null;var t="vi-VN"===localStorage.getItem("umi_locale");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ci,{children:(0,v.wv)({id:"Lịch sử phiếu rút hàng"})}),(0,g.jsx)(p,{height:"5px"}),(0,g.jsx)(nh.Z,{progressDot:!0,current:1,direction:"vertical",children:n.map((function(e,n){return(0,g.jsx)(th,{title:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ui,{style:{display:"block"},children:t?null==e?void 0:e.status_vi:null==e?void 0:e.status_en}),(0,g.jsx)(gi,{style:{display:"block"},children:Qn()(null==e?void 0:e.created_at).format("DD/MM/YYYY - HH:mm:ss")})]}),description:(0,g.jsx)(ih,{history:e})},n)}))})]})},ih=function(e){var n=function(e){var n=[],t=null==e?void 0:e.updated_by;return t&&n.push({content:"Cập nhât bởi: ".concat(t)}),n}(e.history);return(0,g.jsx)(g.Fragment,{children:n.map((function(e,n){return(0,g.jsx)("div",{children:null==e?void 0:e.content},n)}))})},oh=h.ZP.div(fd||(fd=(0,a.Z)(["\n  background-color: white;\n  padding: 0;\n"]))),lh=function(e){var n=e.histories,t=e.onChangeValueItem,r=e.onRemoveItem,i=e.record,o=e.status,l=void 0===o?{}:o,s=e.items,a=e.isLoadingDraft,c=e.warehouse,d=e.onOpenImportProductModal;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(oh,{children:[(0,g.jsx)(Zu,{record:i,status:l,onOpenImportProductModal:d}),(0,g.jsx)(eh,{onChangeValueItem:t,onRemoveItem:r,warehouse:c,record:i,status:l,items:s,isLoadingDraft:a})]}),(0,g.jsx)(p,{height:"24px"}),(0,g.jsx)(rh,{histories:n}),(0,g.jsx)(p,{height:"16px"})]})},sh=h.ZP.div(vd||(vd=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n"]))),ah=h.ZP.div(gd||(gd=(0,a.Z)(["\n  flex: ",";\n"])),(function(e){return e.flex})),ch=function(e){var n=e.histories,t=e.record,r=e.status,i=e.items,o=e.isLoadingDraft,l=e.onChangeValueItem,s=e.onRemoveItem,a=e.warehouse,c=e.onSaveInput,d=e.onOpenImportProductModal;return(0,g.jsxs)(sh,{children:[(0,g.jsx)(ah,{flex:1,children:(0,g.jsx)(xu,{onSaveInput:c,record:t,status:r,warehouse:a})}),(0,g.jsx)(p,{width:"24px"}),(0,g.jsx)(ah,{flex:3,children:(0,g.jsx)(lh,{onOpenImportProductModal:d,onChangeValueItem:l,onRemoveItem:s,histories:n,warehouse:a,record:t,status:r,items:i,isLoadingDraft:o})})]})},dh=function(e){var n=e.record,t=(0,v.LP)(),r=null==n?void 0:n.status,i=(0,c.useMemo)((function(){var e=ie()(Pe,[r,"value"],r);return{color:ie()(Pe,[r,"colorTag"],"processing"),status:e,isReadyToReturn:r===Pe.ready_to_return.key}}),[r]),o=Qn().unix(null==n?void 0:n.created_at).format("DD/MM/YYYY - HH:mm:ss"),l=null==n?void 0:n.code;return(0,g.jsxs)(x.Z,{gutter:12,children:[(0,g.jsx)(d.Z,{children:(0,g.jsx)("img",{src:kd,alt:"",style:{width:40,height:40}})}),(0,g.jsxs)(d.Z,{children:[(0,g.jsxs)(x.Z,{children:[(0,g.jsxs)(si,{children:[t({id:"Phiếu rút hàng"})," ",l&&l]}),(0,g.jsx)(p,{width:"12px"}),(0,g.jsxs)(Bn.Z,{color:null==i?void 0:i.color,children:["".concat(t({id:"Trạng thái"}),": "),null==i?void 0:i.status]}),(null==i?void 0:i.isReadyToReturn)&&(0,g.jsxs)(Bn.Z,{color:"warning",children:[t({id:"Lịch lấy hàng"}),": ",Qn()().format("DD/MM/YYYY - HH:mm:ss")]})]}),(0,g.jsxs)(pi,{children:[t({id:"bpor.created_at"}),": ",o]})]})]})},uh=h.ZP.div(md||(md=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0px 24px;\n"]))),hh=function(){var e=function(){var e=(0,v.LP)(),n=(0,c.useContext)(Te),t=n.detailModalData,r=n.setDetailModalData,i=n.query,o=n.setQuery,l=n.fetchList,s=(0,c.useState)(!1),a=(0,D.Z)(s,2),d=a[0],u=a[1],h=(0,c.useState)(!1),p=(0,D.Z)(h,2),x=p[0],f=p[1],g=(0,c.useState)(!1),m=(0,D.Z)(g,2),j=m[0],Z=m[1],b=(0,c.useState)(),y=(0,D.Z)(b,2),w=y[0],k=y[1],C=(0,c.useState)([]),P=(0,D.Z)(C,2),I=P[0],E=P[1],F=(0,c.useState)([]),T=(0,D.Z)(F,2),L=T[0],M=T[1],Q=(0,c.useState)(),z=(0,D.Z)(Q,2),B=z[0],N=z[1],Y=(0,c.useState)(!1),W=(0,D.Z)(Y,2),V=W[0],O=W[1],H=i.tab,U=i.selectedId,K=null==i?void 0:i.sellerId,J=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(){var n,t,r,i,o,l,s,a,c,d=arguments;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>0&&void 0!==d[0]?d[0]:[],t=d.length>1&&void 0!==d[1]?d[1]:[],r=d.length>2?d[2]:void 0,e.prev=3,f(!0),i=0,o={seller_ids:[K],skus:n},l=(0,ne.Hd)(o),e.next=10,ge({cursor:i,dataPayload:l,limit:1e3});case 10:if(!("error"in(s=e.sent))){e.next=13;break}throw new Error(null==s||null===(a=s.error)||void 0===a?void 0:a.message);case 13:c=null==s?void 0:s.data.map((function(e){var n,i=(0,S.Z)({},e),o=null==i||null===(n=i.inventory)||void 0===n?void 0:n.qty_available;(!o||o<=0)&&(i.isDisable=!0);var l=t.find((function(e){return(null==e?void 0:e.product_sku)===(null==i?void 0:i.sku)}));return l&&(i.qty=null==l?void 0:l.expected_qty,Oo(r,null==i?void 0:i.sku,null==l?void 0:l.expected_qty,void 0,void 0)),i})),M(c),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),Ze.ZP.error(e.t0.message);case 20:return e.prev=20,f(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[3,17,20,23]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n){var t,r,i,o;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),t={items:n,seller_id:K},e.next=5,me(t);case 5:if(!("error"in(r=e.sent))){e.next=8;break}throw new Error(null==r||null===(i=r.error)||void 0===i?void 0:i.message);case 8:o=Ua(null==r?void 0:r.data),E(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Ze.ZP.error(e.t0.message);case 15:return e.prev=15,u(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(n){return e.apply(this,arguments)}}(),X=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n){var t,r;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=[],r=[],null==n||n.items.forEach((function(e){var n=null==e?void 0:e.product_sku;t.push(n),r.push({sku:n})})),J(t,null==n?void 0:n.items,n.warehouse_code),G(r)}catch(e){be()}case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(){var n,t;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!we(H)){e.next=9;break}return e.next=5,r=U,q("".concat("https://api-sellercenter.tala.xyz","/seller/v2/outbound_shipments/").concat(r,"/histories"),{},{hasResponseServerMessage:!0,fullpath:!0});case 5:if(!("error"in(n=e.sent))){e.next=8;break}throw new Error(null==n||null===(t=n.error)||void 0===t?void 0:t.message);case 8:N(null==n?void 0:n.data);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),be();case 14:case"end":return e.stop()}var r}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(){var n,t,r,i;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u(!0),!we(H)){e.next=12;break}return e.next=6,o=U,q("".concat("https://api-sellercenter.tala.xyz","/seller/v2/outbound_shipments/").concat(o),{},{hasResponseServerMessage:!0,fullpath:!0});case 6:if(!("error"in(n=e.sent))){e.next=9;break}throw new Error(null==n||null===(t=n.error)||void 0===t?void 0:t.message);case 9:k(n),e.next=19;break;case 12:return e.next=14,fe(U);case 14:if(!("error"in(r=e.sent))){e.next=17;break}throw new Error(null==r||null===(i=r.error)||void 0===i?void 0:i.message);case 17:k(r),X(r);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),be();case 24:return e.prev=24,u(!1),e.finish(24);case 27:case"end":return e.stop()}var o}),e,null,[[0,21,24,27]])})));return function(){return e.apply(this,arguments)}}(),te=function(){ee(),$()};(0,c.useEffect)((function(){te()}),[]);var re=function(){r({isVisible:!1}),o((0,S.Z)((0,S.Z)({},i),{},{selectedId:null}))},ie=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n){var t,r,i,o;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),t={reference_code:null==n?void 0:n.referenceCode,note:null==n?void 0:n.note,warehouse_code:null==n?void 0:n.warehouseCode},r=(0,ne.Hd)(t),e.next=6,ve(r,null==w?void 0:w.id);case 6:if(!("error"in(i=e.sent))){e.next=9;break}throw new Error(null==i||null===(o=i.error)||void 0===o?void 0:o.message);case 9:return e.next=11,te();case 11:l(),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 17:return e.prev=17,u(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(n){return e.apply(this,arguments)}}();return{isVisible:null==t?void 0:t.isVisible,onCloseDetailModal:function(){return j?wo.Z.confirm({title:e({id:"Thoát"}),content:e({id:"Có thay đổi chưa lưu. Bạn vẫn muốn thoát?"}),okText:e({id:"Đóng"}),cancelText:e({id:"Quay lại"}),onOk:function(){return re()}}):re()},isLoading:d,detail:w,histories:B,warehouse:I,items:L,isLoadingDraft:x,onChangeValueItem:function(e){var n=e.sku,t=e.value,r=(0,R.Z)(L),i=r.findIndex((function(e){return(null==e?void 0:e.sku)===n})),o=r[i];r[i]=(0,S.Z)((0,S.Z)({},o),{},{qty:t}),Z(!0),M(r)},onRemoveItem:function(e){try{var n=null==e?void 0:e.sku,t=(0,R.Z)(L),r=t.findIndex((function(e){return(null==e?void 0:e.sku)===n}));return-1!==r&&(t.splice(r,1),Ko(n,void 0),Z(!0),M(t)),null}catch(e){return be()}},isChange:j,checkIsCanDraft:function(){if(!j)return!1;var e=!1;return L.forEach((function(n){n.qty&&(e=!0)})),e},checkIsCanSave:function(){var e=!1;return L.forEach((function(n){n.qty&&(e=!0)})),e},onSubmit:function(n){var t=function(){var e=(0,A.Z)((0,_.Z)().mark((function e(n){var t,r,i,o;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),t=[],L.forEach((function(e){null!=e&&e.qty&&t.push({product_sku:null==e?void 0:e.sku,expected_qty:null==e?void 0:e.qty})})),r={items:t},n||(r.status="waiting_for_checking"),e.next=8,ve(r,null==w?void 0:w.id);case 8:if(!("error"in(i=e.sent))){e.next=11;break}throw new Error(null==i||null===(o=i.error)||void 0===o?void 0:o.message);case 11:return Z(!1),e.next=14,te();case 14:l(),e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 20:return e.prev=20,u(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,17,20,23]])})));return function(n){return e.apply(this,arguments)}}(),r=!1;L.forEach((function(e){e.qty||(r=!0)})),wo.Z.confirm({title:e({id:"Thông báo"}),content:r?Go():e({id:"Bạn có muốn tiếp tục"}),cancelText:e({id:"Kiểm tra"}),closable:!0,okText:e({id:"Tiếp tục"}),onOk:function(){return t(n)}})},onSaveInput:ie,renderErrorText:function(){if(!L||0===L.length)return e({id:"Vui lòng thêm sản phẩm"});var n=!0;return L.forEach((function(e){e.qty&&(n=!1)})),n?e({id:"Vui lòng thêm số lượng mong muốn"}):""},isShowImportModal:V,onOpenImportProductModal:function(){return O(!0)},onCloseImportProductModal:function(){return O(!1)},onChooseProductCB:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{var n=[];e.forEach((function(e){var t=null==e?void 0:e.sku;n.push({sku:t})})),G(n);var t=e.map((function(e){var n,t=(0,S.Z)({},e),r=null==t||null===(n=t.inventory)||void 0===n?void 0:n.qty_available;(!r||r<=0)&&(t.isDisable=!0);var i=L.find((function(e){return(null==e?void 0:e.sku)===(null==t?void 0:t.sku)}));return i&&(t.qty=null==i?void 0:i.qty,Oo(null==w?void 0:w.warehouse_code,null==t?void 0:t.sku,null==i?void 0:i.qty,void 0,void 0)),t}));M(t),Z(!0)}catch(e){be()}},sellerId:K}}(),n=e.isVisible,t=e.onCloseDetailModal,r=e.isLoading,i=e.histories,o=e.detail,l=e.items,s=e.isLoadingDraft,a=e.warehouse,d=e.onChangeValueItem,h=e.onRemoveItem,x=e.checkIsCanDraft,f=e.checkIsCanSave,m=e.onSubmit,j=e.onSaveInput,Z=e.renderErrorText,b=e.isShowImportModal,y=e.onOpenImportProductModal,w=e.onCloseImportProductModal,k=e.onChooseProductCB,C=e.sellerId,P=no(o);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(wo.Z,{title:(0,g.jsx)(dh,{record:o}),visible:n,footer:(0,g.jsx)(zd,{renderErrorText:Z,isLoading:r,checkIsCanDraft:x,checkIsCanSave:f,status:P,onCloseDetailModal:t,onSubmit:m}),onCancel:t,width:"100%",bodyStyle:{backgroundColor:"#F5F5F5",padding:0,margin:0,height:"calc(100vh - 125px)",overflowY:"scroll"},style:{maxWidth:"100vw",top:0,height:"100vh",padding:0,margin:0},children:[(0,g.jsx)(u.Z,{tip:"Loading...",spinning:r,children:(0,g.jsxs)(uh,{children:[(0,g.jsx)(Wd,{}),(0,g.jsx)(p,{height:"24px"}),(0,g.jsx)(ch,{onOpenImportProductModal:y,onSaveInput:j,onChangeValueItem:d,onRemoveItem:h,histories:i,record:o,status:P,items:l,isLoadingDraft:s,warehouse:a})]})}),b&&(0,g.jsx)(Ld,{items:l,sellerId:C,cb:k,onClose:w,isVisible:b})]})})},ph=(0,h.ZP)(d.Z)(jd||(jd=(0,a.Z)(["\n  background-color: white;\n  min-width: 1000px;\n  overflow-x: scroll;\n"]))),xh=function(){var e=function(){var e=(0,c.useContext)(Te),n=e.isLoading,t=e.createModalData,r=e.detailModalData;return{isLoading:n,isVisibleCreateModal:null==t?void 0:t.isVisible,isVisibleDetailModal:null==r?void 0:r.isVisible}}(),n=e.isLoading,t=e.isVisibleCreateModal,r=e.isVisibleDetailModal;return(0,g.jsxs)(u.Z,{spinning:n,children:[(0,g.jsxs)(ph,{children:[(0,g.jsx)(ze,{}),(0,g.jsx)(Ve,{}),(0,g.jsx)(kt,{}),(0,g.jsx)(Rt,{}),(0,g.jsx)(jo,{})]}),t&&(0,g.jsx)(_d,{}),r&&(0,g.jsx)(hh,{})]})},fh=function(){return(0,g.jsx)(Le,{data:{},children:(0,g.jsx)(xh,{})})}},24654:function(){}}]);